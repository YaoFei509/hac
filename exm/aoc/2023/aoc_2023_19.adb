--  Solution to Advent of Code 2023, Day 19
-------------------------------------------
--  Aplenty
--
--  https://adventofcode.com/2023/day/19
--  Copy of questions in: aoc_2023_19_questions.txt
--
--  Related links:
--    https://forum.ada-lang.io/
--    https://www.reddit.com/r/adventofcode/

with AoC_Toolbox;

--  For building this program with a "full Ada" compiler,
--  such as GNAT, you need the HAT package.
--  The files hat*.ad* are located in ../../../src
--  See also the GNAT project file aoc_2023.gpr .
with HAT;

with Interfaces;

procedure AoC_2023_19 is

  use AoC_Toolbox, HAT, Interfaces;

  x, m, a, s : Integer;
  ok : Boolean;

  procedure AA is begin ok := True; end AA;
  procedure RR is begin ok := False; end RR;

  --  pragma Style_Checks (Off);

  --  In this day's puzzle, the data is actually a program of
  --  a Binary Space Partition.
  --  We have turned XMAS programs into Ada programs using
  --  Regexp replacements.
  --  Note the possible simplifications (could be done several times):
  --    if [cond] then AA; else AA; -> AA
  --    if [cond] then RR; else RR; -> RR

  --
  --  The "Mini" program (the example shown with the questions):
  --

  procedure m_qkq;
  procedure m_rfg;
  procedure m_gd;
  procedure m_crn;
  procedure m_qqz;
  procedure m_hdj;

  procedure m_px  is begin if a < 2006 then m_qkq; elsif m > 2090 then AA; else m_rfg; end if; end;
  procedure m_pv  is begin if a > 1716 then RR; else AA; end if; end;
  procedure m_lnx is begin if m > 1548 then AA; else AA; end if; end;     --  m_lnx = AA
  procedure m_rfg is begin if s < 537  then m_gd; elsif x > 2440 then RR; else AA; end if; end;
  procedure m_qs  is begin if s > 3448 then AA; else m_lnx; end if; end;  --  m_qs = AA
  procedure m_qkq is begin if x < 1416 then AA; else m_crn; end if; end;
  procedure m_crn is begin if x > 2662 then AA; else RR; end if; end;
  procedure m_in  is begin if s < 1351 then m_px; else m_qqz; end if; end;
  procedure m_qqz is begin if s > 2770 then m_qs; elsif m < 1801 then m_hdj; else RR; end if; end;
  procedure m_gd  is begin if a > 3333 then RR; else RR; end if; end;     --  m_gd = RR
  procedure m_hdj is begin if m > 838  then AA; else m_pv; end if; end;

  --
  --  The "Input" program:
  --

  procedure px;
  procedure sv;
  procedure lhx;
  procedure jg;
  procedure jhd;
  procedure mhd;
  procedure bn;
  procedure bz;
  procedure dmc;
  procedure tgt;
  procedure vb;
  procedure vtt;
  procedure fs;
  procedure rct;
  procedure sgr;
  procedure tc;
  procedure dh;
  procedure ncl;
  procedure pbx;
  procedure xzk;
  procedure mls;
  procedure mcm;
  procedure gqc;
  procedure tfs;
  procedure zg;
  procedure vqn;
  procedure pkf;
  procedure hx;
  procedure mk;
  procedure xvn;
  procedure nsd;
  procedure ft;
  procedure cng;
  procedure tkj;
  procedure mlj;
  procedure rmb;
  procedure qkz;
  procedure mt;
  procedure gkl;
  procedure khv;
  procedure gx;
  procedure kkc;
  procedure qcb;
  procedure zmn;
  procedure cbv;
  procedure qnj;
  procedure lsz;
  procedure hcp;
  procedure ntl;
  procedure crk;
  procedure rlz;
  procedure lj;
  procedure bnz;
  procedure tv;
  procedure qrp;
  procedure blf;
  procedure xrc;
  procedure nr;
  procedure jld;
  procedure nk;
  procedure rgl;
  procedure rl;
  procedure bjq;
  procedure bxb;
  procedure ksl;
  procedure qzz;
  procedure xmx;
  procedure bqt;
  procedure nx;
  procedure kfr;
  procedure rzc;
  procedure zbv;
  procedure qds;
  procedure zz;
  procedure ctn;
  procedure mv;
  procedure pm;
  procedure vcd;
  procedure dn;
  procedure cjf;
  procedure fcr;
  procedure kf;
  procedure zf;
  procedure npl;
  procedure hxj;
  procedure bk;
  procedure cgf;
  procedure fj;
  procedure tvz;
  procedure ptj;
  procedure jcf;
  procedure jf;
  procedure frc;
  procedure gkt;
  procedure lk;
  procedure cpv;
  procedure hr;
  procedure fm;
  procedure rh;
  procedure bj;
  procedure qqj;
  procedure vs;
  procedure clk;
  procedure qrq;
  procedure blm;
  procedure bh;
  procedure qq;
  procedure pqb;
  procedure ktn;
  procedure bxg;
  procedure ksd;
  procedure pt;
  procedure rtk;
  procedure tck;
  procedure jzc;
  procedure csz;
  procedure qps;
  procedure lp;
  procedure blx;
  procedure ctt;
  procedure xrp;
  procedure sm;
  procedure plc;
  procedure bnx;
  procedure dz;
  procedure fpz;
  procedure vgq;
  procedure hrl;
  procedure kbm;
  procedure jx;
  procedure xbr;
  procedure cz;
  procedure zh;
  procedure mx;
  procedure pz;
  procedure rt;
  procedure lbk;
  procedure cpm;
  procedure km;
  procedure qzx;
  procedure hp;
  procedure sj;
  procedure rs;
  procedure xp;
  procedure cbr;
  procedure gcm;
  procedure kj;
  procedure lxb;
  procedure rsn;
  procedure jbk;
  procedure zv;
  procedure jps;
  procedure mth;
  procedure mgd;
  procedure rnh;
  procedure psj;
  procedure shf;
  procedure bgd;
  procedure mlt;
  procedure vnq;
  procedure spg;
  procedure kqk;
  procedure zrf;
  procedure ltl;
  procedure pk;
  procedure jct;
  procedure pbh;
  procedure bkc;
  procedure lmm;
  procedure jjm;
  procedure td;
  procedure mdn;
  procedure st;
  procedure sts;
  procedure pr;
  procedure ds;
  procedure dmp;
  procedure nst;
  procedure szs;
  procedure zs;
  procedure vp;
  procedure dl;
  procedure lb;
  procedure kl;
  procedure hlx;
  procedure hz;
  procedure lv;
  procedure qs;
  procedure mpf;
  procedure dm;
  procedure vq;
  procedure rrx;
  procedure hxg;
  procedure pj;
  procedure gjs;
  procedure rk;
  procedure gr;
  procedure zlr;
  procedure qzq;
  procedure qb;
  procedure jkl;
  procedure kd;
  procedure ztq;
  procedure vtl;
  procedure tj;
  procedure dhp;
  procedure jv;
  procedure pjd;
  procedure fh;
  procedure gf;
  procedure cnb;
  procedure rjs;
  procedure sl;
  procedure dd;
  procedure hl;
  procedure zc;
  procedure jhv;
  procedure rjx;
  procedure bp;
  procedure rj;
  procedure mmc;
  procedure jzr;
  procedure hj;
  procedure lpx;
  procedure hxs;
  procedure xv;
  procedure pfl;
  procedure vjn;
  procedure gdk;
  procedure ljv;
  procedure rf;
  procedure zpb;
  procedure xgr;
  procedure ln;
  procedure fg;
  procedure kq;
  procedure mln;
  procedure sjq;
  procedure rpm;
  procedure jc;
  procedure lvq;
  procedure cc;
  procedure kxk;
  procedure lzl;
  procedure sh;
  procedure pzx;
  procedure mrc;
  procedure sx;
  procedure jmf;
  procedure hs;
  procedure ljn;
  procedure mq;
  procedure gc;
  procedure zjx;
  procedure kqb;
  procedure xr;
  procedure kct;
  procedure vn;
  procedure bvg;
  procedure tzr;
  procedure ghp;
  procedure ljh;
  procedure ttc;
  procedure hmd;
  procedure tb;
  procedure skm;
  procedure bmk;
  procedure frf;
  procedure qzr;
  procedure xxd;
  procedure nvs;
  procedure sbd;
  procedure sbh;
  procedure kmc;
  procedure ks;
  procedure dxl;
  procedure lbl;
  procedure mbj;
  procedure jsn;
  procedure qjg;
  procedure tq;
  procedure qnp;
  procedure gnb;
  procedure xq;
  procedure ddr;
  procedure nl;
  procedure bgz;
  procedure gj;
  procedure nzb;
  procedure gg;
  procedure lcg;
  procedure gq;
  procedure zx;
  procedure jcs;
  procedure sdm;
  procedure btg;
  procedure rq;
  procedure fpj;
  procedure vd;
  procedure nxf;
  procedure rhb;
  procedure qv;
  procedure hv;
  procedure ttv;
  procedure nv;
  procedure cgx;
  procedure mz;
  procedure jnn;
  procedure vf;
  procedure gfk;
  procedure dcg;
  procedure mp;
  procedure mg;
  procedure hzc;
  procedure nc;
  procedure vlr;
  procedure xkx;
  procedure bb;
  procedure nh;
  procedure gmg;
  procedure cl;
  procedure xkb;
  procedure cbb;
  procedure fr;
  procedure mh;
  procedure cv;
  procedure dcz;
  procedure vcn;
  procedure kqs;
  procedure mcq;
  procedure hxt;
  procedure ld;
  procedure xs;
  procedure mfn;
  procedure qfs;
  procedure nd;
  procedure jjc;
  procedure gtq;
  procedure xf;
  procedure zgv;
  procedure dgf;
  procedure xg;
  procedure tzv;
  procedure nt;
  procedure gbv;
  procedure qmm;
  procedure cr;
  procedure gxs;
  procedure ctq;
  procedure mfh;
  procedure ff;
  procedure ggb;
  procedure jkf;
  procedure bls;
  procedure czg;
  procedure sxz;
  procedure vdv;
  procedure nsx;
  procedure gd;
  procedure vnp;
  procedure dtc;
  procedure glj;
  procedure qt;
  procedure qvc;
  procedure ctb;
  procedure xz;
  procedure lg;
  procedure lpq;
  procedure jhh;
  procedure mqj;
  procedure fnv;
  procedure zfm;
  procedure vsx;
  procedure csr;
  procedure mhf;
  procedure vc;
  procedure qnv;
  procedure cm;
  procedure jhl;
  procedure sq;
  procedure hvz;
  procedure tr;
  procedure cgv;
  procedure ps;
  procedure rm;
  procedure qp;
  procedure qj;
  procedure qr;
  procedure cql;
  procedure fvp;
  procedure tn;
  procedure fl;
  procedure vv;
  procedure lr;
  procedure xhx;
  procedure jzm;
  procedure tlj;
  procedure xk;
  procedure zk;
  procedure zn;
  procedure ggh;
  procedure ht;
  procedure jbl;
  procedure vfk;
  procedure qdz;
  procedure ll;
  procedure vbp;
  procedure rhg;
  procedure inn;
  procedure bv;
  procedure zgx;
  procedure cfj;
  procedure mr;
  procedure bf;
  procedure rtg;
  procedure qcr;
  procedure xnv;
  procedure nlp;
  procedure tg;
  procedure tnp;
  procedure slq;
  procedure fz;
  procedure rgz;
  procedure rg;
  procedure nm;
  procedure mdc;
  procedure pbt;
  procedure dbl;
  procedure cn;
  procedure hb;
  procedure nls;
  procedure tl;
  procedure mml;
  procedure dtm;
  procedure pf;
  procedure jh;
  procedure sg;
  procedure sp;
  procedure cj;
  procedure dfh;
  procedure lm;
  procedure pp;
  procedure ddf;
  procedure mn;
  procedure hc;
  procedure lgt;
  procedure pmb;
  procedure bq;
  procedure dj;
  procedure lz;
  procedure hml;
  procedure ckz;
  procedure vh;
  procedure rc;
  procedure zm;
  procedure jhs;
  procedure hhd;
  procedure zds;
  procedure zd;

  procedure fzf is begin if m<1642 then AA; else px; end if; end;
  procedure qqp is begin if s>3732 then RR; elsif m>946 then RR; elsif a<1401 then AA; else AA; end if; end;
  procedure mqh is begin if x>1081 then AA; elsif m<3344 then RR; elsif m>3632 then RR; else AA; end if; end;
  procedure bnk is begin if a>2841 then RR; elsif s<3562 then RR; elsif x>3483 then AA; else AA; end if; end;
  procedure jt  is begin if a>3076 then AA; elsif s<2748 then AA; elsif s>2805 then RR; else AA; end if; end;
  procedure vl  is begin if x>2613 then sv; elsif a>2454 then lhx; else jg; end if; end;
  procedure bhj is begin if x>2768 then jhd; else mhd; end if; end;
  procedure ggs is begin if x>3053 then RR; elsif x>2848 then RR; else RR; end if; end;
  procedure lx  is begin if a>3685 then AA; else bn; end if; end;
  procedure hcz is begin if x>763 then RR; elsif s<2753 then AA; else RR; end if; end;
  procedure mnr is begin if x>1157 then RR; else RR; end if; end;
  procedure cpd is begin if a<320 then AA; elsif m>1387 then bz; else AA; end if; end;
  procedure lbm is begin if s<3387 then RR; elsif s>3672 then RR; elsif a<3818 then RR; else AA; end if; end;
  procedure npb is begin if a<1149 then dmc; else tgt; end if; end;
  procedure bsh is begin if x<1228 then RR; else RR; end if; end;
  procedure px  is begin if x>1003 then AA; elsif a>3750 then AA; else AA; end if; end;
  procedure jl  is begin if a<1881 then RR; elsif m>1146 then RR; elsif s<400 then AA; else RR; end if; end;
  procedure cs  is begin if s<3185 then AA; else AA; end if; end;
  procedure krx is begin if x<3153 then AA; elsif a<2570 then RR; else AA; end if; end;
  procedure dp  is begin if a>3221 then AA; else AA; end if; end;
  procedure zxh is begin if s<2883 then RR; else vb; end if; end;
  procedure dtj is begin if x<1574 then AA; elsif m<961 then AA; elsif m>1183 then RR; else RR; end if; end;
  procedure mhd is begin if a<2806 then vtt; else RR; end if; end;
  procedure mll is begin if s<2589 then fs; else rct; end if; end;
  procedure nbf is begin if x<2665 then sgr; else AA; end if; end;
  procedure jr  is begin if a>3301 then tc; elsif x>996 then dh; elsif a>2980 then ncl; else AA; end if; end;
  procedure lxc is begin if x<1450 then RR; elsif m>899 then AA; elsif x>1653 then AA; else RR; end if; end;
  procedure xfp is begin if a>586 then pbx; else xzk; end if; end;
  procedure crf is begin if s>3081 then RR; elsif a>1253 then AA; elsif s<2740 then RR; else AA; end if; end;
  procedure mc  is begin if a<330 then AA; elsif a>440 then AA; elsif x>2613 then RR; else AA; end if; end;
  procedure lcl is begin if m>1452 then mls; else RR; end if; end;
  procedure scv is begin if a>653 then RR; elsif a<385 then AA; elsif s>2291 then mcm; else AA; end if; end;
  procedure jg  is begin if m>2877 then gqc; elsif a>2247 then RR; else AA; end if; end;
  procedure kbt is begin if a<75 then AA; elsif x>3256 then RR; elsif a>137 then AA; else RR; end if; end;
  procedure cmf is begin if m<795 then RR; else AA; end if; end;
  procedure zxc is begin if a<1971 then AA; elsif a>2270 then RR; else AA; end if; end;
  procedure lms is begin if s>323 then tfs; else AA; end if; end;
  procedure mgs is begin if x<2480 then AA; elsif a<1050 then AA; else RR; end if; end;
  procedure kz  is begin if s<3266 then zg; elsif a<2977 then AA; else vqn; end if; end;
  procedure lh  is begin if x>1958 then pkf; elsif m>3511 then hx; else mk; end if; end;
  procedure db  is begin if m<1657 then xvn; else nsd; end if; end;
  procedure gbg is begin if m<1371 then AA; elsif x>3428 then AA; elsif s<3077 then AA; else RR; end if; end;
  procedure gz  is begin if s<3104 then AA; elsif m<2828 then AA; elsif m>3281 then RR; else RR; end if; end;
  procedure hpl is begin if a>3117 then AA; else ft; end if; end;
  procedure zg  is begin if x<1698 then RR; else RR; end if; end;
  procedure vqv is begin if a>1031 then AA; elsif x>2460 then AA; elsif x<1912 then AA; else RR; end if; end;
  procedure vb  is begin if m<1499 then AA; elsif x>1894 then RR; else RR; end if; end;
  procedure xkq is begin if s<1553 then cng; elsif s<3162 then tkj; else mlj; end if; end;
  procedure ngz is begin if a<3373 then AA; elsif s>402 then AA; elsif s>204 then AA; else AA; end if; end;
  procedure dq  is begin if m<801 then rmb; elsif a<2127 then AA; else RR; end if; end;
  procedure kh  is begin if x>1408 then AA; else AA; end if; end;
  procedure jfk is begin if a>1219 then qkz; elsif s<1492 then mt; elsif m<2952 then gkl; else khv; end if; end;
  procedure pl  is begin if s>3123 then RR; else AA; end if; end;
  procedure tdg is begin if a>1983 then AA; elsif a<1853 then gx; elsif x>1678 then kkc; else qcb; end if; end;
  procedure nlk is begin if a<2055 then RR; else zmn; end if; end;
  procedure sxc is begin if s<1553 then RR; else RR; end if; end;
  procedure nzx is begin if a<2569 then AA; elsif x<1812 then cbv; else AA; end if; end;
  procedure cph is begin if m<2856 then AA; else AA; end if; end;
  procedure pxx is begin if x<3670 then qnj; elsif m<3015 then RR; elsif a<3243 then RR; else AA; end if; end;
  procedure bnz is begin if a<949 then lsz; elsif s>1899 then hcp; elsif s>1631 then AA; else ntl; end if; end;
  procedure tv  is begin if m<1352 then RR; elsif m<1812 then AA; else RR; end if; end;
  procedure qkz is begin if a<2141 then crk; elsif x<1866 then rlz; else vl; end if; end;
  procedure qrp is begin if a>3607 then RR; elsif m<2423 then lj; else qqj; end if; end;
  procedure blf is begin if s<1970 then RR; else RR; end if; end;
  procedure xrc is begin if x<2476 then rjx; elsif a>1724 then tj; else pbt; end if; end;
  procedure nr  is begin if m>2092 then hzc; else AA; end if; end;
  procedure jld is begin if s<1570 then AA; else ps; end if; end;
  procedure nk  is begin if a<3132 then RR; else RR; end if; end;
  procedure rgl is begin if a<2558 then AA; else RR; end if; end;
  procedure rl  is begin if a<1021 then AA; else RR; end if; end;
  procedure bjq is begin if s<2821 then RR; elsif s<2872 then AA; else RR; end if; end;
  procedure qnj is begin if s>1202 then RR; elsif s>488 then RR; else RR; end if; end;
  procedure bxb is begin if m<911 then AA; elsif x>468 then bnx; elsif s>3663 then RR; else RR; end if; end;
  procedure ksl is begin if x<688 then AA; elsif x>1068 then AA; else RR; end if; end;
  procedure qzz is begin if a>1963 then sdm; elsif s<1753 then RR; else cgx; end if; end;
  procedure xmx is begin if m<1231 then qnv; elsif m>1789 then nsx; elsif s>1698 then xrp; else AA; end if; end;
  procedure bqt is begin if x>392 then RR; else AA; end if; end;
  procedure nx  is begin if m<3603 then RR; elsif s<2999 then mg; elsif m>3830 then RR; else AA; end if; end;
  procedure kfr is begin if a<2455 then jf; elsif m>1009 then nzx; elsif x<2605 then cgv; else sm; end if; end;
  procedure rzc is begin if m<3116 then RR; elsif x>1302 then RR; elsif s<2205 then RR; else shf; end if; end;
  procedure zbv is begin if m<3299 then RR; elsif x<740 then AA; else RR; end if; end;
  procedure qds is begin if a<3031 then tg; elsif a<3095 then pp; elsif x>2192 then bf; else cgf; end if; end;
  procedure zz  is begin if m<602 then RR; elsif m>616 then AA; else AA; end if; end;
  procedure ctn is begin if s<1118 then qvc; else jzc; end if; end;
  procedure mv  is begin if m>3603 then RR; elsif s<1044 then RR; else AA; end if; end;
  procedure pm  is begin if m>2113 then kd; elsif a>278 then AA; else RR; end if; end;
  procedure vcd is begin if m<1762 then AA; else RR; end if; end;
  procedure dn  is begin if m>2924 then RR; else AA; end if; end;
  procedure cjf is begin if a<886 then jsn; elsif s>538 then hp; else RR; end if; end;
  procedure fcr is begin if s>738 then vnp; elsif s>647 then cz; else AA; end if; end;
  procedure kf  is begin if a<2869 then RR; elsif m<1983 then RR; else AA; end if; end;
  procedure zf  is begin if m>1116 then vh; elsif m<741 then ljn; else xz; end if; end;
  procedure npl is begin if m<604 then RR; elsif x<2557 then AA; elsif s>3273 then AA; else lzl; end if; end;
  procedure hxj is begin if x>1696 then lgt; else hxt; end if; end;
  procedure bk  is begin if m>2024 then kqk; elsif m>1977 then AA; else AA; end if; end;
  procedure cgf is begin if m>1839 then mdc; else nk; end if; end;
  procedure fj  is begin if s<3773 then RR; else AA; end if; end;
  procedure tvz is begin if m<725 then AA; else RR; end if; end;
  procedure nsd is begin if a>549 then AA; else rm; end if; end;
  procedure ptj is begin if a>2544 then RR; elsif s<474 then RR; else RR; end if; end;
  procedure jcf is begin if a>3207 then RR; else RR; end if; end;
  procedure jf  is begin if x>1679 then RR; else hmd; end if; end;
  procedure frc is begin if a>3423 then RR; elsif s<3574 then RR; else RR; end if; end;
  procedure fs  is begin if s<2535 then RR; elsif s>2554 then RR; elsif s>2547 then RR; else RR; end if; end;
  procedure gkt is begin if x<3699 then AA; elsif s<1808 then RR; else RR; end if; end;
  procedure lk  is begin if x>1920 then vgq; elsif x<915 then vc; elsif s>911 then dcg; else pjd; end if; end;
  procedure cpv is begin if s<84 then RR; else AA; end if; end;
  procedure hr  is begin if m>3382 then mdn; elsif x<1457 then cph; else vp; end if; end;
  procedure fm  is begin if x<1347 then kxk; else dl; end if; end;
  procedure rh  is begin if m>1468 then AA; elsif a<3525 then ngz; else RR; end if; end;
  procedure bj  is begin if x>574 then RR; elsif a<2312 then AA; else RR; end if; end;
  procedure qqj is begin if x>1087 then RR; else AA; end if; end;
  procedure vs  is begin if x>1075 then vcd; elsif m<1978 then jv; else jr; end if; end;
  procedure clk is begin if x<444 then RR; elsif m<2947 then AA; elsif s<3126 then AA; else AA; end if; end;
  procedure qrq is begin if s>2012 then RR; elsif a<1950 then AA; else AA; end if; end;
  procedure blm is begin if m<1460 then rj; elsif m>2331 then pxx; elsif s<1091 then bmk; else kq; end if; end;
  procedure bh  is begin if x>1415 then hj; elsif a>1216 then tr; else cj; end if; end;
  procedure qq  is begin if a<3194 then qdz; else rg; end if; end;
  procedure pqb is begin if s<3296 then AA; else RR; end if; end;
  procedure lj  is begin if s<3684 then RR; elsif s<3855 then RR; elsif a<3556 then RR; else AA; end if; end;
  procedure ktn is begin if a>3308 then RR; elsif x>2669 then AA; else AA; end if; end;
  procedure bxg is begin if a>1442 then AA; elsif a>1347 then AA; else AA; end if; end;
  procedure ksd is begin if s<3546 then mr; else rhb; end if; end;
  procedure pt  is begin if x<1007 then AA; elsif s<3086 then RR; elsif a<2912 then RR; else RR; end if; end;
  procedure rtk is begin if a<2468 then AA; elsif s>1601 then AA; else RR; end if; end;
  procedure tck is begin if a>1635 then tlj; elsif m<329 then xhx; else hc; end if; end;
  procedure jzc is begin if a<1524 then zrf; elsif m>1067 then pr; elsif x>1870 then bls; else rrx; end if; end;
  procedure csz is begin if a>762 then bnz; elsif x<3126 then qv; elsif s>1898 then csr; else skm; end if; end;
  procedure qps is begin if a>615 then cjf; elsif s>671 then pm; elsif s>240 then dbl; else nl; end if; end;
  procedure lp  is begin if x<3084 then AA; elsif s<3733 then AA; else RR; end if; end;
  procedure blx is begin if m>131 then RR; else RR; end if; end;
  procedure ctt is begin if a<3522 then nxf; elsif x>1395 then cnb; else jzr; end if; end;
  procedure xrp is begin if x<574 then RR; elsif m<1446 then RR; else AA; end if; end;
  procedure sm  is begin if m<795 then ptj; elsif m>883 then RR; elsif x<3307 then AA; else sbd; end if; end;
  procedure plc is begin if x>559 then RR; elsif a>3782 then RR; elsif s>3878 then RR; else AA; end if; end;
  procedure bnx is begin if m<1013 then AA; else AA; end if; end;
  procedure dz  is begin if s<3377 then RR; elsif m>2092 then RR; else AA; end if; end;
  procedure fpz is begin if m>695 then tvz; elsif s<3213 then qnp; elsif a<1023 then RR; else RR; end if; end;
  procedure mcm is begin if a<540 then AA; else RR; end if; end;
  procedure vgq is begin if x<3260 then xp; else blm; end if; end;
  procedure hrl is begin if s>571 then fcr; elsif a>3310 then lms; elsif a>3059 then dn; else cc; end if; end;
  procedure sgr is begin if a<2253 then RR; elsif a>2477 then RR; elsif x>1631 then AA; else RR; end if; end;
  procedure kbm is begin if a<773 then RR; elsif x<500 then xs; else AA; end if; end;
  procedure dmc is begin if x>811 then ddf; elsif m>1293 then ckz; else RR; end if; end;
  procedure jx  is begin if x<147 then AA; elsif s<3246 then RR; else AA; end if; end;
  procedure xbr is begin if s<3780 then AA; else AA; end if; end;
  procedure cz  is begin if m>3005 then AA; elsif x<1279 then AA; else RR; end if; end;
  procedure zh  is begin if m>2724 then RR; else AA; end if; end;
  procedure mx  is begin if a>2368 then RR; elsif s<2360 then RR; elsif x<3285 then AA; else RR; end if; end;
  procedure pz  is begin if x>1619 then AA; elsif a>965 then RR; elsif x<1449 then AA; else RR; end if; end;
  procedure rt  is begin if a>1181 then RR; elsif x>2446 then RR; else AA; end if; end;
  procedure lbk is begin if a>2730 then fz; else hs; end if; end;
  procedure cpm is begin if a<3279 then rsn; elsif m<1164 then dcz; elsif x>1415 then mcq; else rh; end if; end;
  procedure km  is begin if m>3737 then AA; elsif a>3725 then RR; else RR; end if; end;
  procedure qzx is begin if s>1504 then RR; elsif s>1454 then RR; elsif x<415 then AA; else AA; end if; end;
  procedure hp  is begin if x<2493 then RR; elsif s<1127 then AA; else RR; end if; end;
  procedure sj  is begin if m>683 then RR; elsif x<1742 then AA; elsif s<2208 then RR; else AA; end if; end;
  procedure rs  is begin if m<1908 then tnp; elsif x<1393 then RR; else AA; end if; end;
  procedure xp  is begin if m>1774 then ktn; elsif a<3517 then bq; else gj; end if; end;
  procedure cbr is begin if a>2266 then RR; elsif m<819 then AA; else AA; end if; end;
  procedure gcm is begin if a<3170 then AA; elsif a<3297 then RR; else RR; end if; end;
  procedure kj  is begin if s>3251 then bnk; elsif x<3524 then AA; else AA; end if; end;
  procedure lxb is begin if a<536 then AA; elsif a>630 then RR; elsif s<1570 then AA; else RR; end if; end;
  procedure rsn is begin if m<1293 then RR; else RR; end if; end;
  procedure jbk is begin if x>3170 then AA; elsif a>1074 then RR; else AA; end if; end;
  procedure zv  is begin if x>2404 then AA; elsif s>457 then jmf; else AA; end if; end;
  procedure jps is begin if a<593 then RR; else ggb; end if; end;
  procedure mth is begin if x>3569 then gbv; else ds; end if; end;
  procedure mgd is begin if s>2772 then RR; elsif x<173 then AA; else AA; end if; end;
  procedure rnh is begin if x>460 then vn; elsif x>266 then pl; elsif a<2800 then hvz; else RR; end if; end;
  procedure psj is begin if s<3000 then RR; elsif s<3141 then AA; else RR; end if; end;
  procedure qcb is begin if x<798 then AA; elsif x>1338 then AA; else AA; end if; end;
  procedure shf is begin if s<2342 then RR; else AA; end if; end;
  procedure bgd is begin if m>2415 then nzb; elsif s>3123 then ld; else lcl; end if; end;
  procedure mlt is begin if s<3301 then AA; elsif m>2092 then RR; else AA; end if; end;
  procedure vtt is begin if a<2787 then RR; elsif m<1501 then AA; else RR; end if; end;
  procedure gk  is begin if a<815 then AA; elsif s>2886 then RR; else RR; end if; end;
  procedure vnq is begin if x<655 then AA; elsif s<3763 then RR; else AA; end if; end;
  procedure spg is begin if a<1477 then RR; else RR; end if; end;
  procedure kqk is begin if a>986 then RR; else AA; end if; end;
  procedure zrf is begin if a>904 then gg; elsif m<1153 then ljh; elsif s<1804 then jld; else cpd; end if; end;
  procedure ltl is begin if x>1025 then mh; elsif a<2706 then mlt; else mq; end if; end;
  procedure kkc is begin if a<1939 then RR; elsif a>1966 then RR; else AA; end if; end;
  procedure pk  is begin if s<3412 then fzf; elsif a>3726 then hxs; else qrp; end if; end;
  procedure jct is begin if x>2955 then AA; else czg; end if; end;
  procedure pbh is begin if a>1099 then AA; else RR; end if; end;
  procedure bkc is begin if x<994 then RR; else RR; end if; end;
  procedure lmm is begin if m>3383 then RR; elsif a>2887 then AA; else AA; end if; end;
  procedure jjm is begin if a>2703 then lbk; else fpj; end if; end;
  procedure td  is begin if x<247 then mpf; elsif s>3739 then tzv; else gf; end if; end;
  procedure mdn is begin if a<3498 then RR; else RR; end if; end;
  procedure st  is begin if s<3009 then AA; elsif a>1143 then rt; elsif a<1107 then rgz; else qzr; end if; end;
  procedure sts is begin if a<1200 then RR; elsif m<87 then AA; elsif m>132 then AA; else AA; end if; end;
  procedure pr  is begin if x>2249 then dtm; else qzz; end if; end;
  procedure ds  is begin if s<3752 then AA; else RR; end if; end;
  procedure dmp is begin if m<3305 then RR; elsif a<463 then AA; elsif m<3681 then cm; else RR; end if; end;
  procedure sdr is begin if a>3376 then vdv; else zbv; end if; end;
  procedure nst is begin if s>2046 then cbr; else mfn; end if; end;
  procedure mk  is begin if a<388 then RR; else pmb; end if; end;
  procedure pkf is begin if s>499 then mv; else AA; end if; end;
  procedure szs is begin if m<3349 then sq; elsif a>718 then AA; else gc; end if; end;
  procedure zs  is begin if m<2661 then RR; else AA; end if; end;
  procedure vp  is begin if x>1477 then RR; elsif s>2269 then RR; else AA; end if; end;
  procedure dl  is begin if s<1214 then RR; else qp; end if; end;
  procedure lb  is begin if x<3138 then AA; elsif a>2670 then RR; else RR; end if; end;
  procedure kl  is begin if m>3862 then AA; elsif x>1259 then mqj; elsif x<1033 then zn; else blf; end if; end;
  procedure hlx is begin if a<2205 then RR; elsif x>3579 then AA; elsif s<1636 then AA; else RR; end if; end;
  procedure hz  is begin if x>1358 then AA; elsif x<1311 then RR; else AA; end if; end;
  procedure lv  is begin if s>424 then RR; elsif a>3455 then RR; elsif m>513 then AA; else AA; end if; end;
  procedure qs  is begin if a<3308 then AA; elsif x>723 then RR; else RR; end if; end;
  procedure gqc is begin if x<2158 then RR; elsif s<1851 then RR; else RR; end if; end;
  procedure mpf is begin if a>3792 then AA; elsif a>3662 then mml; elsif a>3577 then RR; else xk; end if; end;
  procedure dm  is begin if m>3103 then AA; elsif x<1276 then RR; else AA; end if; end;
  procedure vq  is begin if s>2244 then hz; elsif x>1360 then AA; else AA; end if; end;
  procedure rrx is begin if s>1629 then nst; elsif s>1413 then xnv; else dq; end if; end;
  procedure hxg is begin if x<324 then mgd; elsif x<469 then dj; else gr; end if; end;
  procedure pj  is begin if a<3150 then AA; elsif a<3454 then AA; elsif x>1606 then AA; else RR; end if; end;
  procedure gjs is begin if a<2848 then AA; elsif x<651 then AA; else RR; end if; end;
  procedure nbz is begin if x<2579 then rtg; else bvg; end if; end;
  procedure tkj is begin if x<2510 then zx; elsif x>3340 then blx; elsif a>1123 then ggs; else ctb; end if; end;
  procedure rk  is begin if m<105 then AA; elsif s<2581 then RR; elsif s>3343 then AA; else RR; end if; end;
  procedure gr  is begin if s>2781 then RR; elsif m>938 then AA; elsif a<3798 then AA; else AA; end if; end;
  procedure zlr is begin if s>2444 then AA; else RR; end if; end;
  procedure qzq is begin if x>260 then RR; elsif s>2233 then RR; else AA; end if; end;
  procedure qb  is begin if a<3400 then tv; elsif x<1211 then lbl; elsif s<3532 then AA; else AA; end if; end;
  procedure jkl is begin if a>569 then RR; elsif a>219 then AA; else AA; end if; end;
  procedure kd  is begin if a<332 then AA; elsif s>1163 then AA; elsif a<441 then AA; else RR; end if; end;
  procedure ztq is begin if s<1701 then xg; elsif s>1889 then dmp; elsif x>944 then szs; else kbm; end if; end;
  procedure vtl is begin if s<1362 then RR; elsif m>1164 then RR; elsif s>1500 then AA; else AA; end if; end;
  procedure tj  is begin if x>3274 then AA; elsif s<708 then AA; elsif a<1760 then RR; else AA; end if; end;
  procedure dhp is begin if a>3146 then qzq; else RR; end if; end;
  procedure bn  is begin if x<466 then RR; else AA; end if; end;
  procedure jv  is begin if a<3111 then RR; else bkc; end if; end;
  procedure pjd is begin if m<2011 then cpm; else hrl; end if; end;
  procedure fh  is begin if a<3064 then RR; elsif s<2885 then jt; elsif x>920 then RR; else clk; end if; end;
  procedure gf  is begin if s>3568 then AA; else jcs; end if; end;
  procedure cnb is begin if x>2602 then bgd; else lpq; end if; end;
  procedure rjs is begin if x<3342 then AA; elsif x>3570 then RR; elsif a<1033 then AA; else RR; end if; end;
  procedure sl  is begin if m>1009 then fvp; else spg; end if; end;
  procedure dd  is begin if a<3115 then AA; else RR; end if; end;
  procedure hl  is begin if a<3182 then RR; elsif x<2541 then AA; elsif s>1661 then RR; else AA; end if; end;
  procedure zc  is begin if m>3224 then RR; elsif x<1402 then AA; else RR; end if; end;
  procedure jhv is begin if a>2713 then AA; else nh; end if; end;
  procedure rjx is begin if s>715 then RR; elsif s<450 then RR; else RR; end if; end;
  procedure bp  is begin if a>3418 then RR; elsif a>2981 then AA; else RR; end if; end;
  procedure rj  is begin if m>817 then bp; else AA; end if; end;
  procedure mmc is begin if a>2356 then bsh; else AA; end if; end;
  procedure jzr is begin if x>627 then pk; elsif s<3294 then jjc; else td; end if; end;
  procedure hj  is begin if a<1124 then RR; else AA; end if; end;
  procedure lpx is begin if x>1886 then RR; elsif s<521 then RR; elsif a<379 then AA; else RR; end if; end;
  procedure vxl is begin if x>1956 then AA; else RR; end if; end;
  procedure ncl is begin if m>2887 then AA; else AA; end if; end;
  procedure hxs is begin if a>3893 then zgx; elsif a>3783 then AA; else RR; end if; end;
  procedure xv  is begin if a>245 then AA; else lg; end if; end;
  procedure pfl is begin if a<440 then RR; else AA; end if; end;
  procedure jhd is begin if a<2796 then AA; elsif a<2813 then RR; else AA; end if; end;
  procedure vjn is begin if x<2270 then RR; elsif s<1166 then AA; else AA; end if; end;
  procedure gdk is begin if a>2886 then qds; elsif x>1553 then jkf; else gmg; end if; end;
  procedure ljv is begin if m>954 then AA; else bqt; end if; end;
  procedure rf  is begin if m<2314 then AA; else RR; end if; end;
  procedure zpb is begin if s>1717 then AA; elsif a>434 then RR; else AA; end if; end;
  procedure xgr is begin if s<2801 then gd; elsif x>2319 then tb; else nv; end if; end;
  procedure ln  is begin if a<3324 then AA; elsif a<3448 then AA; elsif x>1756 then RR; else AA; end if; end;
  procedure ntl is begin if s<1540 then RR; elsif x<2910 then AA; elsif x>3423 then AA; else RR; end if; end;
  procedure fg  is begin if m<3195 then RR; else AA; end if; end;
  procedure kq  is begin if m<1917 then RR; else AA; end if; end;
  procedure mln is begin if m>674 then dtc; elsif x<3229 then tl; elsif s<3218 then AA; else AA; end if; end;
  procedure sjq is begin if x<2421 then RR; elsif s<3380 then zz; else lp; end if; end;
  procedure rpm is begin if s>67 then RR; elsif x<2573 then AA; else AA; end if; end;
  procedure jc  is begin if s<799 then AA; elsif m>3802 then AA; else RR; end if; end;
  procedure lvq is begin if x>3719 then AA; elsif s<3613 then ghp; elsif a<1156 then RR; else AA; end if; end;
  procedure cc  is begin if m>3325 then AA; elsif m<2610 then RR; elsif m>3049 then zc; else xxd; end if; end;
  procedure kxk is begin if m<1500 then AA; elsif a>3205 then RR; elsif m<2576 then RR; else lmm; end if; end;
  procedure qqs is begin if s>3227 then AA; elsif s>2736 then RR; elsif x<2614 then kqb; else kbt; end if; end;
  procedure lzl is begin if a>399 then RR; else AA; end if; end;
  procedure sh  is begin if x<2261 then RR; else RR; end if; end;
  procedure pzx is begin if a<1051 then RR; else RR; end if; end;
  procedure mrc is begin if x<2382 then RR; elsif a<693 then AA; else RR; end if; end;
  procedure sx  is begin if x>3458 then AA; else AA; end if; end;
  procedure sv  is begin if a>2471 then krx; elsif a<2306 then AA; elsif a<2413 then mx; else AA; end if; end;
  procedure jmf is begin if a<292 then RR; elsif m>1008 then AA; else AA; end if; end;
  procedure hs  is begin if m<2526 then RR; elsif x>2622 then RR; else RR; end if; end;
  procedure ljn is begin if m>627 then pf; elsif m>586 then cfj; else bh; end if; end;
  procedure mq  is begin if x>903 then AA; elsif s>3293 then AA; else RR; end if; end;
  procedure gc  is begin if a<365 then AA; elsif a<570 then RR; else RR; end if; end;
  procedure zjx is begin if m>2207 then RR; else RR; end if; end;
  procedure kqb is begin if m<602 then RR; else AA; end if; end;
  procedure xr  is begin if s<3802 then RR; else RR; end if; end;
  procedure lhx is begin if m>3170 then AA; else rgl; end if; end;
  procedure kct is begin if a<1891 then ttc; else zm; end if; end;
  procedure vn  is begin if a>2795 then AA; elsif s<3343 then AA; else AA; end if; end;
  procedure bvg is begin if a>1980 then AA; else RR; end if; end;
  procedure tzr is begin if a>2885 then AA; elsif s<3105 then RR; else AA; end if; end;
  procedure ghp is begin if s>3260 then AA; else AA; end if; end;
  procedure ljh is begin if m>884 then zpb; else AA; end if; end;
  procedure crk is begin if s<1819 then zgv; elsif m<3162 then lz; elsif a<1774 then kh; else nx; end if; end;
  procedure ttc is begin if x<2046 then RR; else AA; end if; end;
  procedure hmd is begin if a<2368 then RR; elsif m>1132 then RR; elsif x<1075 then AA; else AA; end if; end;
  procedure tb  is begin if s>3294 then RR; elsif s>2982 then AA; elsif x<3285 then AA; else RR; end if; end;
  procedure skm is begin if s>1721 then gkt; elsif a>382 then lxb; elsif s>1637 then AA; else AA; end if; end;
  procedure bmk is begin if x<3657 then fl; elsif a<3341 then RR; else RR; end if; end;
  procedure frf is begin if m<2252 then xmx; elsif s<1800 then bb; elsif x>515 then sdr; else dhp; end if; end;
  procedure grp is begin if a>1183 then RR; elsif x>2651 then RR; else RR; end if; end;
  procedure qzr is begin if a>1128 then RR; elsif a>1121 then AA; else AA; end if; end;
  procedure xxd is begin if x>1538 then AA; elsif a>2807 then RR; elsif s<361 then RR; else AA; end if; end;
  procedure nvs is begin if s<2686 then RR; elsif a>148 then RR; else AA; end if; end;
  procedure sbd is begin if a>2540 then RR; elsif a>2502 then AA; elsif x<3553 then RR; else RR; end if; end;
  procedure rmb is begin if x<949 then AA; elsif x<1340 then RR; else RR; end if; end;
  procedure sbh is begin if x>3465 then zxc; elsif m>810 then AA; else qrq; end if; end;
  procedure kmc is begin if m>2641 then mqh; else RR; end if; end;
  procedure ks  is begin if m<1434 then vq; elsif m<2308 then rs; elsif x>1362 then hr; else rzc; end if; end;
  procedure dxl is begin if x>2295 then RR; elsif a>2873 then AA; elsif s<3812 then AA; else RR; end if; end;
  procedure czp is begin if m<90 then AA; elsif x>3608 then AA; elsif s<1450 then AA; else RR; end if; end;
  procedure lbl is begin if x>571 then AA; else RR; end if; end;
  procedure mbj is begin if x>2946 then AA; elsif s<1470 then cmf; elsif x<2327 then RR; else AA; end if; end;
  procedure jsn is begin if s>871 then AA; elsif x>2587 then AA; else AA; end if; end;
  procedure qjg is begin if s>3258 then RR; elsif m>2447 then AA; elsif x>549 then AA; else AA; end if; end;
  procedure tq  is begin if s<2590 then lk; elsif a<3153 then gdk; else ctt; end if; end;
  procedure qnp is begin if s>2942 then RR; elsif s<2748 then RR; else RR; end if; end;
  procedure gnb is begin if s>1449 then RR; elsif a<3469 then AA; else RR; end if; end;
  procedure xq  is begin if x<740 then RR; elsif x>822 then AA; elsif s>1796 then AA; else RR; end if; end;
  procedure ddr is begin if x>825 then kmc; elsif a<2829 then rnh; else hb; end if; end;
  procedure nl  is begin if s<112 then rpm; else RR; end if; end;
  procedure bgz is begin if s<3472 then AA; elsif s<3715 then frc; elsif s>3840 then RR; else fj; end if; end;
  procedure xd  is begin if s<3101 then bv; elsif a<3302 then jcf; elsif s<3572 then jh; else xr; end if; end;
  procedure rxc is begin if m>891 then AA; else AA; end if; end;
  procedure gj  is begin if m<673 then RR; else zds; end if; end;
  procedure nzb is begin if m<3405 then RR; else lbm; end if; end;
  procedure gg  is begin if a<1286 then mgs; elsif m>935 then bxg; elsif x<2090 then AA; else RR; end if; end;
  procedure lcg is begin if m<1248 then AA; elsif s>3297 then AA; elsif s>2766 then AA; else RR; end if; end;
  procedure gq  is begin if x<3301 then mz; else lvq; end if; end;
  procedure cng is begin if x>2558 then rjs; elsif x>992 then sts; else vfk; end if; end;
  procedure gkl is begin if m>2141 then dfh; elsif m<1900 then db; elsif x>1897 then vd; else sp; end if; end;
  procedure zx  is begin if m>98 then RR; else RR; end if; end;
  procedure jcs is begin if m<1494 then AA; elsif x<389 then AA; elsif a>3699 then AA; else RR; end if; end;
  procedure sdm is begin if a>2317 then AA; else RR; end if; end;
  procedure btg is begin if s>1891 then AA; elsif x<2144 then AA; elsif s>906 then AA; else RR; end if; end;
  procedure rq  is begin if x<2267 then RR; elsif a<513 then RR; elsif x<3300 then AA; else AA; end if; end;
  procedure fpj is begin if s>3216 then lb; elsif a>2662 then RR; elsif s<2815 then AA; else psj; end if; end;
  procedure vd  is begin if a<417 then xv; elsif a>769 then bk; else jps; end if; end;
  procedure qvd is begin if a>1423 then kct; elsif a<832 then cql; else xkq; end if; end;
  procedure nxf is begin if m>2417 then xd; else rc; end if; end;
  procedure rhb is begin if a<3055 then RR; else AA; end if; end;
  procedure hq  is begin if s>949 then zd; else vcn; end if; end;
  procedure qv  is begin if a<270 then nls; elsif x<2596 then AA; else RR; end if; end;
  procedure hv  is begin if a>116 then AA; elsif a<67 then RR; elsif s<2371 then RR; else AA; end if; end;
  procedure ttv is begin if a<3583 then RR; elsif a<3757 then RR; elsif s>500 then RR; else AA; end if; end;
  procedure nv  is begin if a>1042 then AA; elsif x<1348 then AA; else RR; end if; end;
  procedure cgx is begin if a>1726 then AA; else AA; end if; end;
  procedure mz  is begin if s>3365 then qqp; else RR; end if; end;
  procedure jnn is begin if x>2684 then AA; elsif m<1408 then RR; else AA; end if; end;
  procedure vf  is begin if x<715 then AA; else AA; end if; end;
  procedure gfk is begin if a<633 then zv; elsif a>1261 then vxl; else cr; end if; end;
  procedure dcg is begin if x<1256 then vs; elsif x>1509 then hxj; elsif s>1703 then ks; else fm; end if; end;
  procedure mp  is begin if m>1507 then jfk; elsif m<526 then cv; elsif s>2468 then zf; else ctn; end if; end;
  procedure mg  is begin if x<1958 then AA; elsif a>1912 then AA; else AA; end if; end;
  procedure hzc is begin if s>3226 then AA; elsif x>2499 then AA; elsif a<2843 then AA; else RR; end if; end;
  procedure nc  is begin if m<494 then RR; else RR; end if; end;
  procedure vlr is begin if a<1639 then RR; elsif m>965 then AA; else RR; end if; end;
  procedure xkx is begin if s<2878 then RR; elsif s<3070 then RR; else AA; end if; end;
  procedure bb  is begin if a>3530 then RR; elsif s<1510 then AA; else RR; end if; end;
  procedure nh  is begin if x>1430 then RR; elsif a>2684 then AA; elsif m<2349 then AA; else RR; end if; end;
  procedure dh  is begin if x<1024 then RR; else AA; end if; end;
  procedure gmg is begin if a>2772 then ddr; else cl; end if; end;
  procedure cl  is begin if x<745 then qmm; elsif x<1185 then ltl; else jhv; end if; end;
  procedure xkb is begin if s<1903 then RR; elsif x>2528 then RR; else RR; end if; end;
  procedure cbb is begin if m<1781 then AA; else qr; end if; end;
  procedure fr  is begin if s<3106 then slq; else RR; end if; end;
  procedure mh  is begin if m>2269 then AA; elsif x<1093 then AA; elsif a<2684 then AA; else RR; end if; end;
  procedure cv  is begin if m<197 then qvd; else tck; end if; end;
  procedure mlj is begin if s<3617 then pzx; else sh; end if; end;
  procedure dcz is begin if a<3605 then lv; elsif a<3752 then AA; elsif s<468 then RR; else RR; end if; end;
  procedure vcn is begin if s<524 then RR; elsif x<1378 then RR; else vqv; end if; end;
  procedure kqs is begin if x<1335 then RR; else lr; end if; end;
  procedure mcq is begin if x>1676 then ttv; else AA; end if; end;
  procedure hxt is begin if s<2024 then gnb; elsif m>1410 then pj; elsif m<736 then RR; else dtj; end if; end;
  procedure ld  is begin if s<3688 then ggh; elsif s<3793 then AA; elsif m>1290 then AA; else AA; end if; end;
  procedure xs  is begin if x>258 then AA; elsif s<1774 then RR; else RR; end if; end;
  procedure mfn is begin if s<1906 then RR; else AA; end if; end;
  procedure qfs is begin if m>1437 then RR; else RR; end if; end;
  procedure tx  is begin if a<3403 then jzm; else tn; end if; end;
  procedure rct is begin if m<1016 then AA; elsif s<2621 then RR; else RR; end if; end;
  procedure nd  is begin if s>3135 then AA; else RR; end if; end;
  procedure jjc is begin if s>2911 then mhf; elsif m<1665 then hxg; elsif x<348 then qcr; else lx; end if; end;
  procedure gtq is begin if m>961 then xbr; elsif m<830 then AA; elsif x<507 then AA; else vnq; end if; end;
  procedure cx  is begin if m>268 then AA; else AA; end if; end;
  procedure xf  is begin if x<345 then AA; elsif s>3174 then RR; elsif m<1739 then AA; else AA; end if; end;
  procedure cbv is begin if m>1242 then AA; elsif m>1121 then RR; elsif x>897 then RR; else AA; end if; end;
  procedure zgv is begin if x>2074 then AA; elsif s>733 then AA; elsif s<478 then RR; else RR; end if; end;
  procedure dgf is begin if x<494 then rtk; elsif x<648 then bj; else xq; end if; end;
  procedure xg  is begin if x<795 then AA; elsif s>1607 then AA; elsif m>3324 then RR; else dm; end if; end;
  procedure tzv is begin if m<1869 then jhs; elsif m>3270 then km; elsif x>493 then plc; else zs; end if; end;
  procedure nt  is begin if a>3068 then AA; elsif a<3045 then AA; else RR; end if; end;
  procedure gbv is begin if s<3584 then RR; elsif s<3728 then RR; else RR; end if; end;
  procedure qmm is begin if m>2061 then zh; else RR; end if; end;
  procedure cr  is begin if x>1870 then RR; elsif x>982 then AA; elsif s<463 then RR; else rl; end if; end;
  procedure gxs is begin if s>3087 then AA; elsif m>385 then AA; elsif a<280 then RR; else rq; end if; end;
  procedure ctq is begin if a>987 then RR; else RR; end if; end;
  procedure mfh is begin if a>1105 then ll; else lm; end if; end;
  procedure ff  is begin if x<1886 then pt; elsif m<1867 then AA; else RR; end if; end;
  procedure ggb is begin if a<657 then RR; elsif a>714 then RR; else RR; end if; end;
  procedure jkf is begin if a<2776 then jjm; elsif a<2825 then bhj; elsif a<2860 then hhd; else jhl; end if; end;
  procedure fdx is begin if s>3342 then RR; else RR; end if; end;
  procedure bls is begin if s<1648 then mbj; elsif x>3066 then sbh; else nlk; end if; end;
  procedure czg is begin if s<3077 then RR; elsif x<2514 then AA; else RR; end if; end;
  procedure sxz is begin if m<937 then grp; elsif s<2655 then mll; elsif m>1045 then vsx; else sl; end if; end;
  procedure vqn is begin if m<1679 then RR; elsif a>2998 then AA; else RR; end if; end;
  procedure vdv is begin if s>2257 then RR; elsif a<3750 then AA; elsif s<2080 then AA; else RR; end if; end;
  procedure nsx is begin if s>1907 then AA; elsif a>3246 then AA; else AA; end if; end;
  procedure gd  is begin if x<2557 then AA; elsif a>1050 then RR; elsif s>2360 then RR; else RR; end if; end;
  procedure vnp is begin if x<1424 then AA; elsif x>1732 then AA; else AA; end if; end;
  procedure dtc is begin if m>702 then RR; else AA; end if; end;
  procedure glj is begin if s>2917 then AA; else AA; end if; end;
  procedure qt  is begin if s>3494 then dxl; elsif x<2302 then kf; else RR; end if; end;
  procedure xzk is begin if a>296 then RR; elsif x>2358 then RR; else hv; end if; end;
  procedure mls is begin if s<2885 then AA; elsif m>1811 then AA; else AA; end if; end;
  procedure qvc is begin if a<1613 then gfk; elsif a>2225 then kfr; elsif a<1820 then xrc; else nbz; end if; end;
  procedure ctb is begin if s>2109 then RR; else AA; end if; end;
  procedure xz  is begin if s<3018 then sxz; elsif x>2273 then gq; else fnv; end if; end;
  procedure lg  is begin if m<2007 then AA; elsif m<2082 then RR; else AA; end if; end;
  procedure lpq is begin if s>3341 then zjx; else zxh; end if; end;
  procedure jhh is begin if m<3882 then AA; elsif s<3163 then mrc; elsif s<3625 then nm; else RR; end if; end;
  procedure tc  is begin if a<3635 then AA; else AA; end if; end;
  procedure gx  is begin if a<1752 then AA; elsif x<2622 then AA; else AA; end if; end;
  procedure mqj is begin if a>2450 then RR; else RR; end if; end;
  procedure bz  is begin if a>676 then AA; elsif s>2182 then AA; else RR; end if; end;
  procedure fnv is begin if x>879 then mfh; elsif s<3449 then ljv; elsif a>1353 then gtq; else bxb; end if; end;
  procedure zfm is begin if x>3316 then czp; else RR; end if; end;
  procedure vsx is begin if x>1654 then jbk; elsif s>2805 then RR; elsif a>1136 then ksl; else hcz; end if; end;
  procedure csr is begin if m<3505 then RR; else AA; end if; end;
  procedure mhf is begin if s<3158 then RR; elsif s<3205 then xf; elsif x<414 then jx; else qjg; end if; end;
  procedure vc  is begin if s<1158 then qq; else frf; end if; end;
  procedure qnv is begin if m<696 then RR; else RR; end if; end;
  procedure cm  is begin if m>3441 then RR; elsif x<1223 then RR; elsif x>1733 then AA; else AA; end if; end;
  procedure jhl is begin if x<3102 then qt; elsif a<2877 then cs; elsif a>2880 then cn; else cbb; end if; end;
  procedure sq  is begin if a>671 then AA; elsif s<1821 then AA; elsif x>1635 then RR; else RR; end if; end;
  procedure hvz is begin if m>2461 then RR; else AA; end if; end;
  procedure tr  is begin if m>563 then RR; else RR; end if; end;
  procedure cgv is begin if a<2538 then RR; else AA; end if; end;
  procedure ps  is begin if x<1895 then RR; elsif x>3216 then RR; else AA; end if; end;
  procedure rm  is begin if s<3054 then RR; elsif s>3470 then AA; elsif m>1762 then RR; else AA; end if; end;
  procedure qp  is begin if m<2013 then AA; elsif s<1385 then RR; elsif s>1514 then RR; else AA; end if; end;
  procedure qj  is begin if m<3381 then fg; elsif m<3694 then pqb; else jhh; end if; end;
  procedure qr  is begin if x<3568 then AA; elsif m<2760 then AA; else RR; end if; end;
  procedure tfs is begin if s>433 then AA; elsif x<1324 then RR; else AA; end if; end;
  procedure cql is begin if x<2048 then rk; else zfm; end if; end;
  procedure fvp is begin if m>1027 then AA; elsif x<2630 then RR; elsif x<3279 then RR; else AA; end if; end;
  procedure tgt is begin if a>1670 then RR; else mnr; end if; end;
  procedure tn  is begin if m>824 then RR; else AA; end if; end;
  procedure fl  is begin if x<3396 then AA; else AA; end if; end;
  procedure vv  is begin if s>3244 then RR; elsif a<3126 then dd; elsif s<2826 then rf; else RR; end if; end;
  procedure lr  is begin if s<2004 then AA; else RR; end if; end;
  procedure xhx is begin if x<1756 then scv; else cx; end if; end;
  procedure jzm is begin if x>1343 then AA; elsif x>703 then RR; elsif a>3373 then AA; else AA; end if; end;
  procedure tlj is begin if s>1605 then nbf; else tdg; end if; end;
  procedure xk  is begin if x>152 then RR; else AA; end if; end;
  procedure mt  is begin if m<2968 then qps; elsif a>701 then hq; else lh; end if; end;
  procedure zk  is begin if m>416 then RR; elsif x>3052 then AA; elsif x<2638 then AA; else AA; end if; end;
  procedure zn  is begin if a<2399 then AA; else AA; end if; end;
  procedure ggh is begin if m<894 then AA; elsif a>3830 then AA; elsif a>3691 then RR; else AA; end if; end;
  procedure ht  is begin if x<1797 then AA; elsif s>2872 then AA; else AA; end if; end;
  procedure jbl is begin if m>1401 then RR; else dp; end if; end;
  procedure vfk is begin if x<479 then RR; elsif m>117 then AA; else AA; end if; end;
  procedure qdz is begin if s>554 then RR; elsif s<239 then cpv; else RR; end if; end;
  procedure ll  is begin if s>3366 then AA; elsif s<3226 then AA; else RR; end if; end;
  procedure vbp is begin if a<527 then RR; elsif m>2007 then gk; else pz; end if; end;
  procedure rhg is begin if m<1474 then AA; elsif a>1417 then AA; elsif a<862 then AA; else AA; end if; end;
  procedure inn is begin if a>2639 then tq; else mp; end if; end;
  procedure bv  is begin if m<3468 then ln; else ht; end if; end;
  procedure zgx is begin if a>3932 then RR; elsif a>3907 then RR; elsif x>1109 then RR; else RR; end if; end;
  procedure hx  is begin if a<449 then jc; else RR; end if; end;
  procedure cfj is begin if a>1414 then fr; elsif a>556 then sjq; elsif a>190 then npl; else qqs; end if; end;
  procedure mr  is begin if m<2693 then AA; else AA; end if; end;
  procedure hcp is begin if a>1108 then RR; else RR; end if; end;
  procedure bf  is begin if x>3211 then vv; else hpl; end if; end;
  procedure rtg is begin if a>1997 then rxc; else jl; end if; end;
  procedure qcr is begin if x>162 then AA; elsif x>74 then AA; elsif s>2711 then bjq; else AA; end if; end;
  procedure xnv is begin if m<724 then sxc; elsif x<921 then qzx; elsif a<2263 then mn; else lxc; end if; end;
  procedure pbx is begin if a>826 then ctq; elsif m<3306 then AA; else zlr; end if; end;
  procedure nlp is begin if s>1893 then AA; else RR; end if; end;
  procedure mfr is begin if x<2238 then RR; else RR; end if; end;
  procedure tg  is begin if a<2948 then ff; else kz; end if; end;
  procedure tnp is begin if a<3177 then RR; elsif s>2055 then AA; else AA; end if; end;
  procedure slq is begin if m>611 then RR; else AA; end if; end;
  procedure fz  is begin if m>2476 then RR; elsif s>3368 then RR; elsif s<2963 then RR; else AA; end if; end;
  procedure rgz is begin if a<1096 then AA; elsif x<2237 then RR; else RR; end if; end;
  procedure rg  is begin if x<396 then RR; elsif a<3472 then qs; else RR; end if; end;
  procedure nm  is begin if x>2253 then AA; else RR; end if; end;
  procedure mdc is begin if x>1209 then gz; elsif s<3278 then vf; else AA; end if; end;
  procedure pbt is begin if a>1678 then AA; elsif x>3246 then vlr; elsif m<1092 then RR; else RR; end if; end;
  procedure dbl is begin if m<2274 then RR; elsif m<2607 then mc; else lpx; end if; end;
  procedure cn  is begin if a<2884 then dz; elsif x>3410 then sg; elsif s>3454 then RR; else tzr; end if; end;
  procedure hb  is begin if s>3486 then RR; elsif a>2860 then glj; elsif x<378 then AA; else gjs; end if; end;
  procedure nls is begin if a<134 then AA; elsif s>1825 then RR; elsif m<3471 then AA; else AA; end if; end;
  procedure tl  is begin if s>3434 then AA; else AA; end if; end;
  procedure bl  is begin if a<555 then RR; elsif a>1174 then AA; else RR; end if; end;
  procedure mml is begin if a<3707 then AA; else RR; end if; end;
  procedure dtm is begin if x>2903 then hlx; elsif a>1934 then xkb; else nlp; end if; end;
  procedure rb  is begin if a>379 then AA; elsif x<2450 then nvs; elsif a>224 then AA; else sx; end if; end;
  procedure pf  is begin if x<1899 then fpz; else mln; end if; end;
  procedure zmn is begin if m>882 then AA; elsif a>2320 then RR; elsif a>2208 then RR; else AA; end if; end;
  procedure jh  is begin if x<2603 then fdx; else RR; end if; end;
  procedure crh is begin if a>1398 then xkx; elsif s>2903 then gbg; else RR; end if; end;
  procedure fmp is begin if a>709 then RR; elsif x<507 then AA; elsif s>2752 then RR; else AA; end if; end;
  procedure sg  is begin if m>1527 then RR; else RR; end if; end;
  procedure sp  is begin if x>1242 then vbp; else fmp; end if; end;
  procedure cj  is begin if m<564 then AA; elsif x<900 then AA; else RR; end if; end;
  procedure khv is begin if s>2714 then qj; elsif s>2119 then xfp; elsif x>2174 then csz; else ztq; end if; end;
  procedure lsz is begin if m<3503 then AA; else AA; end if; end;
  procedure dfh is begin if a<612 then rb; elsif a<1008 then mfr; elsif a>1087 then st; else xgr; end if; end;
  procedure lm  is begin if x>1566 then RR; elsif s>3634 then AA; elsif m<917 then AA; else AA; end if; end;
  procedure hn  is begin if x>1169 then RR; else nt; end if; end;
  procedure pp  is begin if x>2075 then jct; elsif m<1540 then hn; elsif s>3287 then ksd; else fh; end if; end;
  procedure ddf is begin if s>3058 then AA; else AA; end if; end;
  procedure mn  is begin if x>1509 then RR; else RR; end if; end;
  procedure hc  is begin if m>452 then nc; elsif s<2479 then hml; elsif a>714 then crf; else gxs; end if; end;
  procedure lgt is begin if x>1822 then AA; elsif m>1939 then RR; elsif s>1685 then sj; else vtl; end if; end;
  procedure pmb is begin if x<1257 then RR; else RR; end if; end;
  procedure bq  is begin if m>749 then hl; elsif a<2978 then RR; elsif m>283 then AA; else gcm; end if; end;
  procedure dj  is begin if x>419 then RR; elsif m>890 then AA; elsif m<591 then RR; else RR; end if; end;
  procedure lz  is begin if m>2383 then RR; elsif a<1605 then AA; else nd; end if; end;
  procedure rlz is begin if x<908 then dgf; elsif m<2926 then mmc; elsif m>3586 then kl; else kqs; end if; end;
  procedure lbs is begin if m<1371 then lcg; elsif m>1435 then rhg; else jnn; end if; end;
  procedure hml is begin if m<403 then jkl; elsif x<2272 then RR; elsif m<428 then zk; else bl; end if; end;
  procedure ckz is begin if s<3014 then RR; elsif m>1426 then AA; elsif a>431 then AA; else AA; end if; end;
  procedure ft  is begin if x<2599 then RR; else AA; end if; end;
  procedure mxb is begin if x<3119 then lbs; elsif s>3317 then mth; else crh; end if; end;
  procedure vh  is begin if x>2169 then mxb; else npb; end if; end;
  procedure rc  is begin if a<3327 then jbl; elsif x>2380 then bgz; elsif s<3109 then tx; else qb; end if; end;
  procedure zm  is begin if m<76 then btg; else RR; end if; end;
  procedure jhs is begin if a<3796 then AA; elsif a<3916 then RR; elsif a>3966 then RR; else AA; end if; end;
  procedure hhd is begin if x>2759 then kj; elsif x<2163 then qfs; else nr; end if; end;
  procedure zds is begin if m<1380 then RR; else RR; end if; end;
  procedure zd  is begin if a>899 then pbh; else vjn; end if; end;
  procedure xvn is begin if s>2657 then pfl; else RR; end if; end;

  --  pragma Style_Checks (On);

  r : array (Part_Type) of Integer_64;

  choice : Data_Type;

  procedure Do_Part_1 is
    sum : Integer_64 := 0;

    procedure Mini_Test (x0, m0, a0, s0 : Natural) is
    begin
      x := x0;
      m := m0;
      a := a0;
      s := s0;
      m_in;
      if ok then
        sum := sum + Integer_64 (x + m + a + s);
      end if;
    end Mini_Test;

    procedure Input_Test (x0, m0, a0, s0 : Natural) is
    begin
      x := x0;
      m := m0;
      a := a0;
      s := s0;
      inn;
      if ok then
        sum := sum + Integer_64 (x + m + a + s);
      end if;
    end Input_Test;
  begin
    ok := False;
    case choice is
      when mini =>
        Mini_Test (787,  2655, 1222, 2876);
        Mini_Test (1679, 44,   2067, 496);
        Mini_Test (2036, 264,  79,   2244);
        Mini_Test (2461, 1339, 466,  291);
        Mini_Test (2127, 1623, 2188, 1013);
      when input =>
        Input_Test (6, 309, 1182, 757);
        Input_Test (531, 106, 1009, 142);
        Input_Test (3264, 506, 301, 807);
        Input_Test (1197, 394, 351, 1266);
        Input_Test (3009, 1048, 143, 1549);
        Input_Test (617, 1696, 778, 28);
        Input_Test (172, 2243, 1135, 2330);
        Input_Test (309, 457, 1943, 8);
        Input_Test (424, 100, 288, 1745);
        Input_Test (282, 138, 2134, 272);
        Input_Test (2982, 2488, 1452, 3065);
        Input_Test (1760, 2317, 3608, 119);
        Input_Test (682, 303, 1113, 34);
        Input_Test (806, 3417, 720, 1219);
        Input_Test (908, 2564, 1065, 766);
        Input_Test (1044, 70, 511, 1410);
        Input_Test (848, 262, 1100, 778);
        Input_Test (1042, 1887, 2083, 847);
        Input_Test (1051, 1636, 187, 892);
        Input_Test (782, 489, 1940, 18);
        Input_Test (33, 1970, 838, 1123);
        Input_Test (20, 2180, 2036, 1720);
        Input_Test (468, 788, 170, 983);
        Input_Test (1893, 1399, 1661, 1493);
        Input_Test (42, 604, 2889, 219);
        Input_Test (109, 56, 1004, 2498);
        Input_Test (1249, 213, 329, 117);
        Input_Test (544, 380, 124, 1479);
        Input_Test (1222, 996, 498, 2270);
        Input_Test (38, 228, 59, 1060);
        Input_Test (17, 613, 2060, 1358);
        Input_Test (188, 976, 100, 1415);
        Input_Test (965, 641, 1563, 2718);
        Input_Test (867, 386, 1798, 682);
        Input_Test (1596, 350, 143, 167);
        Input_Test (390, 2438, 225, 171);
        Input_Test (1014, 1030, 718, 2678);
        Input_Test (473, 2034, 1270, 449);
        Input_Test (2092, 268, 653, 691);
        Input_Test (951, 16, 1869, 2764);
        Input_Test (494, 154, 178, 1323);
        Input_Test (2653, 1230, 238, 787);
        Input_Test (922, 1420, 1390, 2030);
        Input_Test (2958, 2763, 1486, 2822);
        Input_Test (615, 373, 31, 1548);
        Input_Test (1275, 1486, 2205, 171);
        Input_Test (1, 2571, 234, 1346);
        Input_Test (945, 107, 99, 754);
        Input_Test (1398, 1428, 556, 1724);
        Input_Test (693, 3354, 3, 218);
        Input_Test (1706, 39, 1620, 1403);
        Input_Test (465, 408, 2153, 651);
        Input_Test (1026, 794, 340, 920);
        Input_Test (1275, 1806, 120, 599);
        Input_Test (78, 1030, 1601, 1019);
        Input_Test (2442, 1645, 331, 69);
        Input_Test (1797, 480, 479, 1634);
        Input_Test (135, 1838, 216, 1293);
        Input_Test (1914, 1031, 53, 23);
        Input_Test (2862, 303, 883, 537);
        Input_Test (60, 192, 109, 1577);
        Input_Test (527, 629, 103, 136);
        Input_Test (66, 1861, 135, 1026);
        Input_Test (105, 678, 2551, 495);
        Input_Test (2558, 33, 322, 1359);
        Input_Test (2032, 376, 39, 857);
        Input_Test (929, 1035, 174, 2372);
        Input_Test (731, 156, 26, 2512);
        Input_Test (1120, 880, 500, 1070);
        Input_Test (845, 108, 1492, 1340);
        Input_Test (2460, 2527, 1057, 1382);
        Input_Test (390, 942, 953, 402);
        Input_Test (557, 440, 335, 426);
        Input_Test (1850, 3068, 1956, 258);
        Input_Test (351, 296, 222, 181);
        Input_Test (27, 389, 650, 999);
        Input_Test (1941, 3377, 1600, 1377);
        Input_Test (62, 2099, 9, 25);
        Input_Test (34, 658, 215, 32);
        Input_Test (1408, 989, 54, 560);
        Input_Test (969, 431, 634, 856);
        Input_Test (75, 678, 1523, 157);
        Input_Test (1087, 837, 763, 118);
        Input_Test (112, 904, 3317, 313);
        Input_Test (2163, 1100, 271, 882);
        Input_Test (474, 289, 305, 197);
        Input_Test (1307, 2741, 279, 1550);
        Input_Test (1109, 629, 1600, 298);
        Input_Test (868, 815, 2970, 21);
        Input_Test (1850, 285, 1158, 373);
        Input_Test (1430, 1078, 226, 2374);
        Input_Test (296, 413, 1609, 1099);
        Input_Test (11, 3105, 505, 2170);
        Input_Test (2126, 1961, 389, 1087);
        Input_Test (592, 1842, 1991, 1083);
        Input_Test (93, 1662, 1840, 2377);
        Input_Test (433, 30, 1269, 857);
        Input_Test (1898, 662, 861, 1131);
        Input_Test (2484, 278, 1782, 134);
        Input_Test (102, 1146, 3527, 2090);
        Input_Test (2530, 727, 1577, 211);
        Input_Test (316, 2957, 18, 730);
        Input_Test (492, 183, 624, 1454);
        Input_Test (3325, 30, 1660, 938);
        Input_Test (407, 1854, 99, 326);
        Input_Test (1336, 1276, 473, 24);
        Input_Test (1718, 438, 956, 384);
        Input_Test (353, 1534, 2180, 2974);
        Input_Test (2705, 211, 94, 837);
        Input_Test (104, 123, 413, 1789);
        Input_Test (176, 395, 2652, 50);
        Input_Test (738, 1018, 103, 200);
        Input_Test (750, 31, 916, 121);
        Input_Test (2967, 1253, 1593, 1357);
        Input_Test (262, 112, 131, 63);
        Input_Test (145, 807, 291, 959);
        Input_Test (1476, 239, 1054, 3491);
        Input_Test (428, 351, 2465, 65);
        Input_Test (35, 236, 863, 1089);
        Input_Test (1233, 2010, 177, 764);
        Input_Test (1083, 1863, 25, 1974);
        Input_Test (957, 1180, 837, 679);
        Input_Test (66, 1204, 285, 2075);
        Input_Test (444, 560, 172, 1447);
        Input_Test (812, 350, 876, 661);
        Input_Test (200, 366, 752, 851);
        Input_Test (749, 377, 815, 648);
        Input_Test (60, 285, 517, 39);
        Input_Test (2921, 381, 119, 249);
        Input_Test (466, 1290, 801, 2159);
        Input_Test (62, 201, 881, 95);
        Input_Test (3598, 126, 1688, 979);
        Input_Test (2963, 1112, 2733, 520);
        Input_Test (62, 1067, 920, 451);
        Input_Test (2501, 475, 1074, 1150);
        Input_Test (50, 1111, 12, 44);
        Input_Test (617, 1106, 1489, 1333);
        Input_Test (90, 208, 219, 2352);
        Input_Test (1179, 2166, 1693, 2055);
        Input_Test (61, 595, 1382, 1140);
        Input_Test (62, 354, 123, 793);
        Input_Test (436, 865, 2408, 2578);
        Input_Test (515, 398, 303, 312);
        Input_Test (637, 2236, 474, 148);
        Input_Test (2488, 35, 75, 924);
        Input_Test (461, 1196, 7, 1092);
        Input_Test (923, 3184, 1161, 308);
        Input_Test (191, 1399, 1324, 2784);
        Input_Test (170, 421, 51, 625);
        Input_Test (170, 362, 471, 2100);
        Input_Test (289, 66, 143, 284);
        Input_Test (542, 339, 455, 54);
        Input_Test (155, 124, 732, 2057);
        Input_Test (8, 420, 784, 1455);
        Input_Test (479, 251, 1883, 136);
        Input_Test (104, 146, 97, 249);
        Input_Test (2766, 833, 386, 585);
        Input_Test (373, 514, 466, 2192);
        Input_Test (296, 1190, 249, 963);
        Input_Test (518, 1840, 860, 306);
        Input_Test (1003, 1955, 756, 1098);
        Input_Test (1545, 242, 1479, 576);
        Input_Test (77, 1717, 475, 1692);
        Input_Test (417, 1517, 2199, 374);
        Input_Test (3247, 348, 1065, 1154);
        Input_Test (456, 868, 182, 1077);
        Input_Test (464, 425, 15, 781);
        Input_Test (640, 294, 303, 261);
        Input_Test (1018, 327, 18, 1830);
        Input_Test (262, 988, 1974, 1665);
        Input_Test (123, 525, 3062, 460);
        Input_Test (228, 2020, 29, 701);
        Input_Test (129, 1163, 1561, 958);
        Input_Test (29, 1576, 74, 348);
        Input_Test (64, 2153, 63, 1771);
        Input_Test (71, 66, 1642, 1749);
        Input_Test (1373, 3063, 1958, 561);
        Input_Test (2277, 3766, 384, 363);
        Input_Test (2956, 127, 865, 1862);
        Input_Test (599, 115, 2360, 526);
        Input_Test (651, 644, 580, 514);
        Input_Test (880, 173, 613, 3270);
        Input_Test (1228, 951, 1515, 333);
        Input_Test (1621, 2392, 2665, 1515);
        Input_Test (933, 1805, 228, 1720);
        Input_Test (25, 1553, 54, 3177);
        Input_Test (85, 550, 273, 142);
        Input_Test (489, 624, 126, 557);
        Input_Test (256, 2513, 509, 186);
        Input_Test (2616, 377, 2497, 707);
        Input_Test (688, 509, 410, 557);
        Input_Test (1306, 105, 1605, 3217);
        Input_Test (1405, 31, 824, 543);
        Input_Test (600, 559, 1299, 110);
        Input_Test (2683, 1112, 458, 27);
        Input_Test (1240, 882, 417, 1066);
        Input_Test (651, 667, 178, 3045);
        Input_Test (2089, 19, 879, 90);
        Input_Test (263, 423, 41, 734);
        Input_Test (630, 44, 135, 98);
    end case;
    r (part_1) := sum;
  end Do_Part_1;

  procedure Do_Part_2 is
  
    subtype XMAS_Rating_Range is Integer_64 range 1 .. 4000;
    
    sum : Integer_64 := 0;
    width_x, width_m, width_a, width_s : XMAS_Rating_Range;
    
    procedure Part_2_Mini is
      d_x : array (1 .. 5) of Positive;
      d_m : array (1 .. 6) of Positive;
      d_a : array (1 .. 5) of Positive;
      d_s : array (1 .. 6) of Positive;
    begin
      d_x (1) := 1;
      d_x (2) := 1416;
      d_x (3) := 2441;
      d_x (4) := 2663;
      d_x (5) := 4001;
      --
      d_m (1) := 1;
      d_m (2) := 839;
      d_m (3) := 1549;
      d_m (4) := 1801;
      d_m (5) := 2091;
      d_m (6) := 4001;
      --
      d_a (1) := 1;
      d_a (2) := 1717;
      d_a (3) := 2006;
      d_a (4) := 3334;
      d_a (5) := 4001;
      --
      d_s (1) := 1;
      d_s (2) := 537;
      d_s (3) := 1351;
      d_s (4) := 2771;
      d_s (5) := 3449;
      d_s (6) := 4001;
      --
      for i_x in 1 .. d_x'Last - 1 loop
        width_x := XMAS_Rating_Range (d_x (i_x + 1) - d_x (i_x));
        x := d_x (i_x);
        for i_m in 1 .. d_m'Last - 1 loop
          width_m := XMAS_Rating_Range (d_m (i_m + 1) - d_m (i_m));
          m := d_m (i_m);
          for i_a in 1 .. d_a'Last - 1 loop
            width_a := XMAS_Rating_Range (d_a (i_a + 1) - d_a (i_a));
            a := d_a (i_a);
            for i_s in 1 .. d_s'Last - 1 loop
              width_s := XMAS_Rating_Range (d_s (i_s + 1) - d_s (i_s));
              s := d_s (i_s);
              --  Test a point in the 4D rectangle
              m_in;
              if ok then
                sum := sum + width_x * width_m * width_a * width_s;
              end if;
            end loop;
          end loop;
        end loop;
      end loop;
    end Part_2_Mini;

    procedure Part_2_Input is
      d_x : array (1 .. 257) of Positive;
      d_m : array (1 .. 211) of Positive;
      d_a : array (1 .. 288) of Positive;
      d_s : array (1 .. 249) of Positive;
    begin
      --  The partitioning data was retrieved from the
      --  puzzle's program using Regexp, and Excel.
      --  In Excel, "> n" was replaced implicitly by ">= n + 1",
      --  which is the converse of "< n + 1".
      --  The boundaries (the n's) were then sorted and duplicates removed
      --  The presence of duplicates were spotted thanks to the
      --  XMAS_Rating_Range subtype used for the width_* variables.
      --   
      d_x (1) := 1;
      d_x (2) := 75;
      d_x (3) := 147;
      d_x (4) := 153;
      d_x (5) := 163;
      d_x (6) := 173;
      d_x (7) := 247;
      d_x (8) := 259;
      d_x (9) := 261;
      d_x (10) := 267;
      d_x (11) := 324;
      d_x (12) := 345;
      d_x (13) := 348;
      d_x (14) := 378;
      d_x (15) := 389;
      d_x (16) := 393;
      d_x (17) := 396;
      d_x (18) := 414;
      d_x (19) := 415;
      d_x (20) := 420;
      d_x (21) := 444;
      d_x (22) := 461;
      d_x (23) := 466;
      d_x (24) := 469;
      d_x (25) := 479;
      d_x (26) := 494;
      d_x (27) := 500;
      d_x (28) := 507;
      d_x (29) := 516;
      d_x (30) := 550;
      d_x (31) := 560;
      d_x (32) := 572;
      d_x (33) := 574;
      d_x (34) := 575;
      d_x (35) := 628;
      d_x (36) := 648;
      d_x (37) := 651;
      d_x (38) := 655;
      d_x (39) := 688;
      d_x (40) := 704;
      d_x (41) := 715;
      d_x (42) := 724;
      d_x (43) := 740;
      d_x (44) := 745;
      d_x (45) := 764;
      d_x (46) := 795;
      d_x (47) := 798;
      d_x (48) := 812;
      d_x (49) := 823;
      d_x (50) := 826;
      d_x (51) := 880;
      d_x (52) := 898;
      d_x (53) := 900;
      d_x (54) := 904;
      d_x (55) := 908;
      d_x (56) := 915;
      d_x (57) := 921;
      d_x (58) := 945;
      d_x (59) := 949;
      d_x (60) := 983;
      d_x (61) := 993;
      d_x (62) := 994;
      d_x (63) := 997;
      d_x (64) := 1004;
      d_x (65) := 1007;
      d_x (66) := 1024;
      d_x (67) := 1026;
      d_x (68) := 1033;
      d_x (69) := 1069;
      d_x (70) := 1075;
      d_x (71) := 1076;
      d_x (72) := 1082;
      d_x (73) := 1088;
      d_x (74) := 1093;
      d_x (75) := 1110;
      d_x (76) := 1158;
      d_x (77) := 1170;
      d_x (78) := 1185;
      d_x (79) := 1210;
      d_x (80) := 1211;
      d_x (81) := 1223;
      d_x (82) := 1228;
      d_x (83) := 1243;
      d_x (84) := 1256;
      d_x (85) := 1257;
      d_x (86) := 1260;
      d_x (87) := 1276;
      d_x (88) := 1279;
      d_x (89) := 1303;
      d_x (90) := 1311;
      d_x (91) := 1324;
      d_x (92) := 1335;
      d_x (93) := 1339;
      d_x (94) := 1340;
      d_x (95) := 1344;
      d_x (96) := 1347;
      d_x (97) := 1348;
      d_x (98) := 1359;
      d_x (99) := 1361;
      d_x (100) := 1363;
      d_x (101) := 1378;
      d_x (102) := 1393;
      d_x (103) := 1396;
      d_x (104) := 1402;
      d_x (105) := 1409;
      d_x (106) := 1416;
      d_x (107) := 1424;
      d_x (108) := 1431;
      d_x (109) := 1449;
      d_x (110) := 1450;
      d_x (111) := 1457;
      d_x (112) := 1478;
      d_x (113) := 1510;
      d_x (114) := 1539;
      d_x (115) := 1554;
      d_x (116) := 1567;
      d_x (117) := 1574;
      d_x (118) := 1607;
      d_x (119) := 1620;
      d_x (120) := 1632;
      d_x (121) := 1636;
      d_x (122) := 1654;
      d_x (123) := 1655;
      d_x (124) := 1677;
      d_x (125) := 1679;
      d_x (126) := 1680;
      d_x (127) := 1697;
      d_x (128) := 1698;
      d_x (129) := 1733;
      d_x (130) := 1734;
      d_x (131) := 1742;
      d_x (132) := 1756;
      d_x (133) := 1757;
      d_x (134) := 1797;
      d_x (135) := 1812;
      d_x (136) := 1823;
      d_x (137) := 1866;
      d_x (138) := 1871;
      d_x (139) := 1886;
      d_x (140) := 1887;
      d_x (141) := 1895;
      d_x (142) := 1898;
      d_x (143) := 1899;
      d_x (144) := 1912;
      d_x (145) := 1921;
      d_x (146) := 1957;
      d_x (147) := 1958;
      d_x (148) := 1959;
      d_x (149) := 2046;
      d_x (150) := 2048;
      d_x (151) := 2075;
      d_x (152) := 2076;
      d_x (153) := 2090;
      d_x (154) := 2144;
      d_x (155) := 2158;
      d_x (156) := 2163;
      d_x (157) := 2170;
      d_x (158) := 2175;
      d_x (159) := 2193;
      d_x (160) := 2237;
      d_x (161) := 2238;
      d_x (162) := 2250;
      d_x (163) := 2254;
      d_x (164) := 2261;
      d_x (165) := 2267;
      d_x (166) := 2270;
      d_x (167) := 2272;
      d_x (168) := 2274;
      d_x (169) := 2296;
      d_x (170) := 2302;
      d_x (171) := 2320;
      d_x (172) := 2327;
      d_x (173) := 2359;
      d_x (174) := 2381;
      d_x (175) := 2382;
      d_x (176) := 2405;
      d_x (177) := 2421;
      d_x (178) := 2447;
      d_x (179) := 2450;
      d_x (180) := 2461;
      d_x (181) := 2476;
      d_x (182) := 2480;
      d_x (183) := 2493;
      d_x (184) := 2500;
      d_x (185) := 2510;
      d_x (186) := 2514;
      d_x (187) := 2529;
      d_x (188) := 2541;
      d_x (189) := 2557;
      d_x (190) := 2559;
      d_x (191) := 2573;
      d_x (192) := 2579;
      d_x (193) := 2588;
      d_x (194) := 2596;
      d_x (195) := 2599;
      d_x (196) := 2603;
      d_x (197) := 2605;
      d_x (198) := 2614;
      d_x (199) := 2622;
      d_x (200) := 2623;
      d_x (201) := 2630;
      d_x (202) := 2638;
      d_x (203) := 2652;
      d_x (204) := 2665;
      d_x (205) := 2670;
      d_x (206) := 2685;
      d_x (207) := 2760;
      d_x (208) := 2769;
      d_x (209) := 2849;
      d_x (210) := 2904;
      d_x (211) := 2910;
      d_x (212) := 2947;
      d_x (213) := 2956;
      d_x (214) := 3053;
      d_x (215) := 3054;
      d_x (216) := 3067;
      d_x (217) := 3084;
      d_x (218) := 3102;
      d_x (219) := 3119;
      d_x (220) := 3126;
      d_x (221) := 3138;
      d_x (222) := 3153;
      d_x (223) := 3171;
      d_x (224) := 3212;
      d_x (225) := 3217;
      d_x (226) := 3229;
      d_x (227) := 3247;
      d_x (228) := 3257;
      d_x (229) := 3260;
      d_x (230) := 3275;
      d_x (231) := 3279;
      d_x (232) := 3285;
      d_x (233) := 3300;
      d_x (234) := 3301;
      d_x (235) := 3307;
      d_x (236) := 3317;
      d_x (237) := 3341;
      d_x (238) := 3342;
      d_x (239) := 3396;
      d_x (240) := 3411;
      d_x (241) := 3424;
      d_x (242) := 3429;
      d_x (243) := 3459;
      d_x (244) := 3466;
      d_x (245) := 3484;
      d_x (246) := 3524;
      d_x (247) := 3553;
      d_x (248) := 3568;
      d_x (249) := 3570;
      d_x (250) := 3571;
      d_x (251) := 3580;
      d_x (252) := 3609;
      d_x (253) := 3657;
      d_x (254) := 3670;
      d_x (255) := 3699;
      d_x (256) := 3720;
      d_x (257) := 4001;
      --
      d_m (1) := 1;
      d_m (2) := 76;
      d_m (3) := 87;
      d_m (4) := 90;
      d_m (5) := 99;
      d_m (6) := 105;
      d_m (7) := 118;
      d_m (8) := 132;
      d_m (9) := 133;
      d_m (10) := 197;
      d_m (11) := 269;
      d_m (12) := 284;
      d_m (13) := 329;
      d_m (14) := 386;
      d_m (15) := 403;
      d_m (16) := 417;
      d_m (17) := 428;
      d_m (18) := 453;
      d_m (19) := 494;
      d_m (20) := 514;
      d_m (21) := 526;
      d_m (22) := 564;
      d_m (23) := 587;
      d_m (24) := 591;
      d_m (25) := 602;
      d_m (26) := 604;
      d_m (27) := 612;
      d_m (28) := 617;
      d_m (29) := 628;
      d_m (30) := 673;
      d_m (31) := 675;
      d_m (32) := 684;
      d_m (33) := 696;
      d_m (34) := 703;
      d_m (35) := 724;
      d_m (36) := 725;
      d_m (37) := 736;
      d_m (38) := 741;
      d_m (39) := 750;
      d_m (40) := 795;
      d_m (41) := 801;
      d_m (42) := 811;
      d_m (43) := 818;
      d_m (44) := 819;
      d_m (45) := 825;
      d_m (46) := 830;
      d_m (47) := 883;
      d_m (48) := 884;
      d_m (49) := 885;
      d_m (50) := 891;
      d_m (51) := 892;
      d_m (52) := 894;
      d_m (53) := 900;
      d_m (54) := 911;
      d_m (55) := 917;
      d_m (56) := 936;
      d_m (57) := 937;
      d_m (58) := 939;
      d_m (59) := 947;
      d_m (60) := 955;
      d_m (61) := 961;
      d_m (62) := 962;
      d_m (63) := 966;
      d_m (64) := 1009;
      d_m (65) := 1010;
      d_m (66) := 1013;
      d_m (67) := 1016;
      d_m (68) := 1028;
      d_m (69) := 1046;
      d_m (70) := 1068;
      d_m (71) := 1092;
      d_m (72) := 1117;
      d_m (73) := 1122;
      d_m (74) := 1133;
      d_m (75) := 1147;
      d_m (76) := 1153;
      d_m (77) := 1164;
      d_m (78) := 1165;
      d_m (79) := 1184;
      d_m (80) := 1231;
      d_m (81) := 1243;
      d_m (82) := 1248;
      d_m (83) := 1291;
      d_m (84) := 1293;
      d_m (85) := 1294;
      d_m (86) := 1352;
      d_m (87) := 1371;
      d_m (88) := 1380;
      d_m (89) := 1388;
      d_m (90) := 1402;
      d_m (91) := 1408;
      d_m (92) := 1411;
      d_m (93) := 1427;
      d_m (94) := 1434;
      d_m (95) := 1436;
      d_m (96) := 1438;
      d_m (97) := 1446;
      d_m (98) := 1453;
      d_m (99) := 1460;
      d_m (100) := 1469;
      d_m (101) := 1474;
      d_m (102) := 1494;
      d_m (103) := 1499;
      d_m (104) := 1500;
      d_m (105) := 1501;
      d_m (106) := 1508;
      d_m (107) := 1528;
      d_m (108) := 1540;
      d_m (109) := 1642;
      d_m (110) := 1657;
      d_m (111) := 1665;
      d_m (112) := 1679;
      d_m (113) := 1739;
      d_m (114) := 1762;
      d_m (115) := 1763;
      d_m (116) := 1775;
      d_m (117) := 1781;
      d_m (118) := 1790;
      d_m (119) := 1812;
      d_m (120) := 1840;
      d_m (121) := 1867;
      d_m (122) := 1869;
      d_m (123) := 1900;
      d_m (124) := 1908;
      d_m (125) := 1917;
      d_m (126) := 1940;
      d_m (127) := 1978;
      d_m (128) := 1983;
      d_m (129) := 2007;
      d_m (130) := 2008;
      d_m (131) := 2011;
      d_m (132) := 2013;
      d_m (133) := 2025;
      d_m (134) := 2062;
      d_m (135) := 2082;
      d_m (136) := 2093;
      d_m (137) := 2114;
      d_m (138) := 2142;
      d_m (139) := 2208;
      d_m (140) := 2252;
      d_m (141) := 2270;
      d_m (142) := 2274;
      d_m (143) := 2308;
      d_m (144) := 2314;
      d_m (145) := 2332;
      d_m (146) := 2349;
      d_m (147) := 2384;
      d_m (148) := 2416;
      d_m (149) := 2418;
      d_m (150) := 2423;
      d_m (151) := 2448;
      d_m (152) := 2462;
      d_m (153) := 2477;
      d_m (154) := 2526;
      d_m (155) := 2576;
      d_m (156) := 2607;
      d_m (157) := 2610;
      d_m (158) := 2642;
      d_m (159) := 2661;
      d_m (160) := 2693;
      d_m (161) := 2725;
      d_m (162) := 2760;
      d_m (163) := 2828;
      d_m (164) := 2856;
      d_m (165) := 2878;
      d_m (166) := 2888;
      d_m (167) := 2925;
      d_m (168) := 2926;
      d_m (169) := 2947;
      d_m (170) := 2952;
      d_m (171) := 2968;
      d_m (172) := 3006;
      d_m (173) := 3015;
      d_m (174) := 3050;
      d_m (175) := 3104;
      d_m (176) := 3116;
      d_m (177) := 3162;
      d_m (178) := 3171;
      d_m (179) := 3195;
      d_m (180) := 3225;
      d_m (181) := 3271;
      d_m (182) := 3282;
      d_m (183) := 3299;
      d_m (184) := 3305;
      d_m (185) := 3306;
      d_m (186) := 3325;
      d_m (187) := 3326;
      d_m (188) := 3344;
      d_m (189) := 3349;
      d_m (190) := 3381;
      d_m (191) := 3383;
      d_m (192) := 3384;
      d_m (193) := 3405;
      d_m (194) := 3442;
      d_m (195) := 3468;
      d_m (196) := 3471;
      d_m (197) := 3503;
      d_m (198) := 3505;
      d_m (199) := 3512;
      d_m (200) := 3587;
      d_m (201) := 3603;
      d_m (202) := 3604;
      d_m (203) := 3633;
      d_m (204) := 3681;
      d_m (205) := 3694;
      d_m (206) := 3738;
      d_m (207) := 3803;
      d_m (208) := 3831;
      d_m (209) := 3863;
      d_m (210) := 3882;
      d_m (211) := 4001;
      --
      d_a (1) := 1;
      d_a (2) := 67;
      d_a (3) := 75;
      d_a (4) := 117;
      d_a (5) := 134;
      d_a (6) := 138;
      d_a (7) := 149;
      d_a (8) := 191;
      d_a (9) := 220;
      d_a (10) := 225;
      d_a (11) := 246;
      d_a (12) := 270;
      d_a (13) := 279;
      d_a (14) := 280;
      d_a (15) := 292;
      d_a (16) := 297;
      d_a (17) := 320;
      d_a (18) := 330;
      d_a (19) := 332;
      d_a (20) := 365;
      d_a (21) := 379;
      d_a (22) := 380;
      d_a (23) := 383;
      d_a (24) := 385;
      d_a (25) := 388;
      d_a (26) := 400;
      d_a (27) := 417;
      d_a (28) := 432;
      d_a (29) := 435;
      d_a (30) := 440;
      d_a (31) := 441;
      d_a (32) := 449;
      d_a (33) := 463;
      d_a (34) := 513;
      d_a (35) := 527;
      d_a (36) := 536;
      d_a (37) := 540;
      d_a (38) := 550;
      d_a (39) := 555;
      d_a (40) := 557;
      d_a (41) := 570;
      d_a (42) := 587;
      d_a (43) := 593;
      d_a (44) := 612;
      d_a (45) := 616;
      d_a (46) := 631;
      d_a (47) := 633;
      d_a (48) := 654;
      d_a (49) := 657;
      d_a (50) := 672;
      d_a (51) := 677;
      d_a (52) := 693;
      d_a (53) := 702;
      d_a (54) := 710;
      d_a (55) := 715;
      d_a (56) := 719;
      d_a (57) := 763;
      d_a (58) := 770;
      d_a (59) := 773;
      d_a (60) := 815;
      d_a (61) := 827;
      d_a (62) := 832;
      d_a (63) := 862;
      d_a (64) := 886;
      d_a (65) := 900;
      d_a (66) := 905;
      d_a (67) := 949;
      d_a (68) := 966;
      d_a (69) := 987;
      d_a (70) := 988;
      d_a (71) := 1008;
      d_a (72) := 1021;
      d_a (73) := 1023;
      d_a (74) := 1032;
      d_a (75) := 1033;
      d_a (76) := 1043;
      d_a (77) := 1050;
      d_a (78) := 1051;
      d_a (79) := 1075;
      d_a (80) := 1088;
      d_a (81) := 1096;
      d_a (82) := 1100;
      d_a (83) := 1106;
      d_a (84) := 1107;
      d_a (85) := 1109;
      d_a (86) := 1122;
      d_a (87) := 1124;
      d_a (88) := 1129;
      d_a (89) := 1137;
      d_a (90) := 1144;
      d_a (91) := 1149;
      d_a (92) := 1156;
      d_a (93) := 1175;
      d_a (94) := 1182;
      d_a (95) := 1184;
      d_a (96) := 1200;
      d_a (97) := 1217;
      d_a (98) := 1220;
      d_a (99) := 1254;
      d_a (100) := 1262;
      d_a (101) := 1286;
      d_a (102) := 1348;
      d_a (103) := 1354;
      d_a (104) := 1399;
      d_a (105) := 1401;
      d_a (106) := 1415;
      d_a (107) := 1418;
      d_a (108) := 1424;
      d_a (109) := 1443;
      d_a (110) := 1477;
      d_a (111) := 1524;
      d_a (112) := 1605;
      d_a (113) := 1613;
      d_a (114) := 1636;
      d_a (115) := 1639;
      d_a (116) := 1671;
      d_a (117) := 1679;
      d_a (118) := 1725;
      d_a (119) := 1727;
      d_a (120) := 1752;
      d_a (121) := 1760;
      d_a (122) := 1774;
      d_a (123) := 1820;
      d_a (124) := 1853;
      d_a (125) := 1881;
      d_a (126) := 1891;
      d_a (127) := 1913;
      d_a (128) := 1935;
      d_a (129) := 1939;
      d_a (130) := 1950;
      d_a (131) := 1964;
      d_a (132) := 1967;
      d_a (133) := 1971;
      d_a (134) := 1981;
      d_a (135) := 1984;
      d_a (136) := 1998;
      d_a (137) := 2055;
      d_a (138) := 2127;
      d_a (139) := 2141;
      d_a (140) := 2205;
      d_a (141) := 2209;
      d_a (142) := 2226;
      d_a (143) := 2248;
      d_a (144) := 2253;
      d_a (145) := 2263;
      d_a (146) := 2267;
      d_a (147) := 2271;
      d_a (148) := 2306;
      d_a (149) := 2312;
      d_a (150) := 2318;
      d_a (151) := 2321;
      d_a (152) := 2357;
      d_a (153) := 2368;
      d_a (154) := 2369;
      d_a (155) := 2399;
      d_a (156) := 2413;
      d_a (157) := 2451;
      d_a (158) := 2455;
      d_a (159) := 2468;
      d_a (160) := 2472;
      d_a (161) := 2478;
      d_a (162) := 2503;
      d_a (163) := 2538;
      d_a (164) := 2541;
      d_a (165) := 2545;
      d_a (166) := 2558;
      d_a (167) := 2569;
      d_a (168) := 2570;
      d_a (169) := 2640;
      d_a (170) := 2663;
      d_a (171) := 2671;
      d_a (172) := 2684;
      d_a (173) := 2685;
      d_a (174) := 2704;
      d_a (175) := 2706;
      d_a (176) := 2714;
      d_a (177) := 2731;
      d_a (178) := 2773;
      d_a (179) := 2776;
      d_a (180) := 2787;
      d_a (181) := 2796;
      d_a (182) := 2800;
      d_a (183) := 2806;
      d_a (184) := 2808;
      d_a (185) := 2813;
      d_a (186) := 2825;
      d_a (187) := 2829;
      d_a (188) := 2842;
      d_a (189) := 2843;
      d_a (190) := 2848;
      d_a (191) := 2860;
      d_a (192) := 2861;
      d_a (193) := 2869;
      d_a (194) := 2874;
      d_a (195) := 2877;
      d_a (196) := 2881;
      d_a (197) := 2884;
      d_a (198) := 2886;
      d_a (199) := 2887;
      d_a (200) := 2888;
      d_a (201) := 2912;
      d_a (202) := 2948;
      d_a (203) := 2977;
      d_a (204) := 2978;
      d_a (205) := 2981;
      d_a (206) := 2982;
      d_a (207) := 2999;
      d_a (208) := 3031;
      d_a (209) := 3045;
      d_a (210) := 3055;
      d_a (211) := 3060;
      d_a (212) := 3064;
      d_a (213) := 3069;
      d_a (214) := 3077;
      d_a (215) := 3095;
      d_a (216) := 3111;
      d_a (217) := 3115;
      d_a (218) := 3118;
      d_a (219) := 3126;
      d_a (220) := 3132;
      d_a (221) := 3147;
      d_a (222) := 3150;
      d_a (223) := 3153;
      d_a (224) := 3170;
      d_a (225) := 3177;
      d_a (226) := 3182;
      d_a (227) := 3194;
      d_a (228) := 3206;
      d_a (229) := 3208;
      d_a (230) := 3222;
      d_a (231) := 3243;
      d_a (232) := 3247;
      d_a (233) := 3279;
      d_a (234) := 3297;
      d_a (235) := 3302;
      d_a (236) := 3308;
      d_a (237) := 3309;
      d_a (238) := 3311;
      d_a (239) := 3324;
      d_a (240) := 3327;
      d_a (241) := 3341;
      d_a (242) := 3373;
      d_a (243) := 3374;
      d_a (244) := 3377;
      d_a (245) := 3400;
      d_a (246) := 3403;
      d_a (247) := 3419;
      d_a (248) := 3424;
      d_a (249) := 3448;
      d_a (250) := 3454;
      d_a (251) := 3456;
      d_a (252) := 3469;
      d_a (253) := 3472;
      d_a (254) := 3498;
      d_a (255) := 3517;
      d_a (256) := 3522;
      d_a (257) := 3525;
      d_a (258) := 3531;
      d_a (259) := 3556;
      d_a (260) := 3578;
      d_a (261) := 3583;
      d_a (262) := 3605;
      d_a (263) := 3608;
      d_a (264) := 3635;
      d_a (265) := 3663;
      d_a (266) := 3686;
      d_a (267) := 3692;
      d_a (268) := 3700;
      d_a (269) := 3707;
      d_a (270) := 3726;
      d_a (271) := 3727;
      d_a (272) := 3750;
      d_a (273) := 3751;
      d_a (274) := 3752;
      d_a (275) := 3757;
      d_a (276) := 3783;
      d_a (277) := 3784;
      d_a (278) := 3793;
      d_a (279) := 3796;
      d_a (280) := 3798;
      d_a (281) := 3818;
      d_a (282) := 3831;
      d_a (283) := 3894;
      d_a (284) := 3908;
      d_a (285) := 3916;
      d_a (286) := 3933;
      d_a (287) := 3967;
      d_a (288) := 4001;
      --
      d_s (1) := 1;
      d_s (2) := 68;
      d_s (3) := 84;
      d_s (4) := 112;
      d_s (5) := 205;
      d_s (6) := 239;
      d_s (7) := 241;
      d_s (8) := 324;
      d_s (9) := 361;
      d_s (10) := 400;
      d_s (11) := 403;
      d_s (12) := 425;
      d_s (13) := 434;
      d_s (14) := 450;
      d_s (15) := 458;
      d_s (16) := 463;
      d_s (17) := 468;
      d_s (18) := 474;
      d_s (19) := 478;
      d_s (20) := 489;
      d_s (21) := 500;
      d_s (22) := 501;
      d_s (23) := 521;
      d_s (24) := 524;
      d_s (25) := 539;
      d_s (26) := 555;
      d_s (27) := 572;
      d_s (28) := 648;
      d_s (29) := 672;
      d_s (30) := 708;
      d_s (31) := 716;
      d_s (32) := 734;
      d_s (33) := 739;
      d_s (34) := 799;
      d_s (35) := 872;
      d_s (36) := 907;
      d_s (37) := 912;
      d_s (38) := 950;
      d_s (39) := 1044;
      d_s (40) := 1091;
      d_s (41) := 1118;
      d_s (42) := 1127;
      d_s (43) := 1158;
      d_s (44) := 1164;
      d_s (45) := 1166;
      d_s (46) := 1203;
      d_s (47) := 1214;
      d_s (48) := 1362;
      d_s (49) := 1385;
      d_s (50) := 1414;
      d_s (51) := 1450;
      d_s (52) := 1455;
      d_s (53) := 1470;
      d_s (54) := 1492;
      d_s (55) := 1501;
      d_s (56) := 1505;
      d_s (57) := 1510;
      d_s (58) := 1515;
      d_s (59) := 1540;
      d_s (60) := 1553;
      d_s (61) := 1570;
      d_s (62) := 1602;
      d_s (63) := 1606;
      d_s (64) := 1608;
      d_s (65) := 1630;
      d_s (66) := 1632;
      d_s (67) := 1636;
      d_s (68) := 1638;
      d_s (69) := 1648;
      d_s (70) := 1662;
      d_s (71) := 1686;
      d_s (72) := 1699;
      d_s (73) := 1701;
      d_s (74) := 1704;
      d_s (75) := 1718;
      d_s (76) := 1722;
      d_s (77) := 1753;
      d_s (78) := 1774;
      d_s (79) := 1797;
      d_s (80) := 1800;
      d_s (81) := 1804;
      d_s (82) := 1808;
      d_s (83) := 1819;
      d_s (84) := 1821;
      d_s (85) := 1826;
      d_s (86) := 1851;
      d_s (87) := 1890;
      d_s (88) := 1892;
      d_s (89) := 1894;
      d_s (90) := 1899;
      d_s (91) := 1900;
      d_s (92) := 1903;
      d_s (93) := 1906;
      d_s (94) := 1908;
      d_s (95) := 1970;
      d_s (96) := 2004;
      d_s (97) := 2013;
      d_s (98) := 2024;
      d_s (99) := 2047;
      d_s (100) := 2056;
      d_s (101) := 2080;
      d_s (102) := 2110;
      d_s (103) := 2120;
      d_s (104) := 2183;
      d_s (105) := 2205;
      d_s (106) := 2208;
      d_s (107) := 2234;
      d_s (108) := 2245;
      d_s (109) := 2258;
      d_s (110) := 2270;
      d_s (111) := 2292;
      d_s (112) := 2342;
      d_s (113) := 2360;
      d_s (114) := 2361;
      d_s (115) := 2371;
      d_s (116) := 2445;
      d_s (117) := 2469;
      d_s (118) := 2479;
      d_s (119) := 2535;
      d_s (120) := 2548;
      d_s (121) := 2555;
      d_s (122) := 2581;
      d_s (123) := 2589;
      d_s (124) := 2590;
      d_s (125) := 2621;
      d_s (126) := 2655;
      d_s (127) := 2658;
      d_s (128) := 2686;
      d_s (129) := 2712;
      d_s (130) := 2715;
      d_s (131) := 2737;
      d_s (132) := 2740;
      d_s (133) := 2748;
      d_s (134) := 2753;
      d_s (135) := 2767;
      d_s (136) := 2773;
      d_s (137) := 2782;
      d_s (138) := 2801;
      d_s (139) := 2806;
      d_s (140) := 2815;
      d_s (141) := 2821;
      d_s (142) := 2826;
      d_s (143) := 2872;
      d_s (144) := 2873;
      d_s (145) := 2878;
      d_s (146) := 2883;
      d_s (147) := 2885;
      d_s (148) := 2887;
      d_s (149) := 2904;
      d_s (150) := 2912;
      d_s (151) := 2918;
      d_s (152) := 2943;
      d_s (153) := 2963;
      d_s (154) := 2983;
      d_s (155) := 2999;
      d_s (156) := 3000;
      d_s (157) := 3009;
      d_s (158) := 3014;
      d_s (159) := 3018;
      d_s (160) := 3054;
      d_s (161) := 3059;
      d_s (162) := 3070;
      d_s (163) := 3077;
      d_s (164) := 3082;
      d_s (165) := 3086;
      d_s (166) := 3088;
      d_s (167) := 3101;
      d_s (168) := 3104;
      d_s (169) := 3105;
      d_s (170) := 3106;
      d_s (171) := 3109;
      d_s (172) := 3124;
      d_s (173) := 3126;
      d_s (174) := 3136;
      d_s (175) := 3141;
      d_s (176) := 3158;
      d_s (177) := 3162;
      d_s (178) := 3163;
      d_s (179) := 3175;
      d_s (180) := 3185;
      d_s (181) := 3205;
      d_s (182) := 3213;
      d_s (183) := 3217;
      d_s (184) := 3218;
      d_s (185) := 3226;
      d_s (186) := 3227;
      d_s (187) := 3228;
      d_s (188) := 3245;
      d_s (189) := 3246;
      d_s (190) := 3252;
      d_s (191) := 3259;
      d_s (192) := 3261;
      d_s (193) := 3266;
      d_s (194) := 3274;
      d_s (195) := 3278;
      d_s (196) := 3288;
      d_s (197) := 3294;
      d_s (198) := 3295;
      d_s (199) := 3296;
      d_s (200) := 3298;
      d_s (201) := 3301;
      d_s (202) := 3318;
      d_s (203) := 3342;
      d_s (204) := 3343;
      d_s (205) := 3344;
      d_s (206) := 3366;
      d_s (207) := 3367;
      d_s (208) := 3369;
      d_s (209) := 3377;
      d_s (210) := 3380;
      d_s (211) := 3387;
      d_s (212) := 3412;
      d_s (213) := 3435;
      d_s (214) := 3449;
      d_s (215) := 3455;
      d_s (216) := 3471;
      d_s (217) := 3472;
      d_s (218) := 3487;
      d_s (219) := 3495;
      d_s (220) := 3532;
      d_s (221) := 3546;
      d_s (222) := 3562;
      d_s (223) := 3569;
      d_s (224) := 3572;
      d_s (225) := 3574;
      d_s (226) := 3584;
      d_s (227) := 3613;
      d_s (228) := 3617;
      d_s (229) := 3625;
      d_s (230) := 3635;
      d_s (231) := 3664;
      d_s (232) := 3673;
      d_s (233) := 3684;
      d_s (234) := 3688;
      d_s (235) := 3715;
      d_s (236) := 3728;
      d_s (237) := 3733;
      d_s (238) := 3740;
      d_s (239) := 3752;
      d_s (240) := 3763;
      d_s (241) := 3773;
      d_s (242) := 3780;
      d_s (243) := 3793;
      d_s (244) := 3802;
      d_s (245) := 3812;
      d_s (246) := 3841;
      d_s (247) := 3855;
      d_s (248) := 3879;
      d_s (249) := 4001;
      --
      for i_x in 1 .. d_x'Last - 1 loop
        width_x := XMAS_Rating_Range (d_x (i_x + 1) - d_x (i_x));
        x := d_x (i_x);
        for i_m in 1 .. d_m'Last - 1 loop
          width_m := XMAS_Rating_Range (d_m (i_m + 1) - d_m (i_m));
          m := d_m (i_m);
          for i_a in 1 .. d_a'Last - 1 loop
            width_a := XMAS_Rating_Range (d_a (i_a + 1) - d_a (i_a));
            a := d_a (i_a);
            for i_s in 1 .. d_s'Last - 1 loop
              width_s := XMAS_Rating_Range (d_s (i_s + 1) - d_s (i_s));
              s := d_s (i_s);
              --  Test a point in the 4D rectangle
              inn;
              if ok then
                sum := sum + width_x * width_m * width_a * width_s;
              end if;
            end loop;
          end loop;
        end loop;
      end loop;
    end Part_2_Input;

  begin
    case choice is
      when mini =>
        Part_2_Mini;
      when input =>
        Part_2_Input;
    end case;
    r (part_2) := sum;
  end Do_Part_2;

  compiler_test_mode : constant Boolean := Argument_Count >= 2;
  T0 : constant Time := Clock;
  
begin
  if compiler_test_mode then
    choice := mini;
  else
    choice := input;
  end if;
  
  Do_Part_1;
  Do_Part_2;
  
  if compiler_test_mode then
    if r (part_1) /= Integer_64'Value (To_String (Argument (1))) or
       r (part_2) /= Integer_64'Value (To_String (Argument (2)))
    then
      Set_Exit_Status (1);  --  Compiler test failed.
    end if;
  else
    Put_Line (+"Done in: " & (Clock - T0) & " seconds");
    Put_Line (+"Part 1:" & r (part_1)'Image);
    Put_Line (+"Part 2:" & r (part_2)'Image);
    --  Part 1: validated by AoC: 330820           (example: 19114)
    --  Part 2: validated by AoC: 123972546935551  (example: 167409079868000)
  end if;
end AoC_2023_19;
